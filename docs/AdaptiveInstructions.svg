<svg xmlns="http://www.w3.org/2000/svg" id="mindmap" class="markmap mindmap"><style>.markmap {
  --markmap-max-width: 9999px;
  --markmap-a-color: #0097e6;
  --markmap-a-hover-color: #00a8ff;
  --markmap-code-bg: #f0f0f0;
  --markmap-code-color: #555;
  --markmap-highlight-bg: #ffeaa7;
  --markmap-table-border: 1px solid currentColor;
  --markmap-font: 300 16px/20px sans-serif;
  --markmap-circle-open-bg: #fff;
  --markmap-text-color: #333;
  --markmap-highlight-node-bg: #ff02;

  font: var(--markmap-font);
  color: var(--markmap-text-color);
}

  .markmap-link {
    fill: none;
  }

  .markmap-node &gt; circle {
      cursor: pointer;
    }

  .markmap-foreign {
    display: inline-block;
  }

  .markmap-foreign p {
      margin: 0;
    }

  .markmap-foreign a {
      color: var(--markmap-a-color);
    }

  .markmap-foreign a:hover {
        color: var(--markmap-a-hover-color);
      }

  .markmap-foreign code {
      padding: 0.25em;
      font-size: calc(1em - 2px);
      color: var(--markmap-code-color);
      background-color: var(--markmap-code-bg);
      border-radius: 2px;
    }

  .markmap-foreign pre {
      margin: 0;
    }

  .markmap-foreign pre &gt; code {
        display: block;
      }

  .markmap-foreign del {
      text-decoration: line-through;
    }

  .markmap-foreign em {
      font-style: italic;
    }

  .markmap-foreign strong {
      font-weight: bold;
    }

  .markmap-foreign mark {
      background: var(--markmap-highlight-bg);
    }

  .markmap-foreign table,
    .markmap-foreign th,
    .markmap-foreign td {
      border-collapse: collapse;
      border: var(--markmap-table-border);
    }

  .markmap-foreign img {
      display: inline-block;
    }

  .markmap-foreign svg {
      fill: currentColor;
    }

  .markmap-foreign &gt; div {
      width: var(--markmap-max-width);
      text-align: left;
    }

  .markmap-foreign &gt; div &gt; div {
        display: inline-block;
      }

  .markmap-highlight rect {
    fill: var(--markmap-highlight-node-bg);
  }

.markmap-dark .markmap {
  --markmap-code-bg: #1a1b26;
  --markmap-code-color: #ddd;
  --markmap-circle-open-bg: #444;
  --markmap-text-color: #eee;
}
</style><g transform="translate(61.234375953674316,606.626012466126) scale(0.1974419712591441)"><path class="markmap-link" data-depth="4" data-path="1.2.4.5" d="M1164,-3269.152C1204,-3269.152,1204,-3308.527,1244,-3308.527" stroke-width="1.1875" stroke="rgb(148, 103, 189)"/><path class="markmap-link" data-depth="4" data-path="1.2.4.6" d="M1164,-3269.152C1204,-3269.152,1204,-3282.34,1244,-3282.34" stroke-width="1.1875" stroke="rgb(140, 86, 75)"/><path class="markmap-link" data-depth="4" data-path="1.2.4.7" d="M1164,-3269.152C1204,-3269.152,1204,-3256.152,1244,-3256.152" stroke-width="1.1875" stroke="rgb(227, 119, 194)"/><path class="markmap-link" data-depth="4" data-path="1.2.4.8" d="M1164,-3269.152C1204,-3269.152,1204,-3229.965,1244,-3229.965" stroke-width="1.1875" stroke="rgb(127, 127, 127)"/><path class="markmap-link" data-depth="4" data-path="1.2.10.11" d="M981,-3165.184C1021,-3165.184,1021,-3131.777,1061,-3131.777" stroke-width="1.1875" stroke="rgb(31, 119, 180)"/><path class="markmap-link" data-depth="4" data-path="1.2.12.13" d="M1003,-3087.402C1043,-3087.402,1043,-3100.59,1083,-3100.59" stroke-width="1.1875" stroke="rgb(44, 160, 44)"/><path class="markmap-link" data-depth="4" data-path="1.2.12.14" d="M1003,-3087.402C1043,-3087.402,1043,-3074.402,1083,-3074.402" stroke-width="1.1875" stroke="rgb(214, 39, 40)"/><path class="markmap-link" data-depth="3" data-path="1.2.3" d="M724,-3191.277C764,-3191.277,764,-3295.527,804,-3295.527" stroke-width="1.375" stroke="rgb(44, 160, 44)"/><path class="markmap-link" data-depth="3" data-path="1.2.4" d="M724,-3191.277C764,-3191.277,764,-3269.152,804,-3269.152" stroke-width="1.375" stroke="rgb(214, 39, 40)"/><path class="markmap-link" data-depth="3" data-path="1.2.9" d="M724,-3191.277C764,-3191.277,764,-3236.418,804,-3236.418" stroke-width="1.375" stroke="rgb(188, 189, 34)"/><path class="markmap-link" data-depth="3" data-path="1.2.10" d="M724,-3191.277C764,-3191.277,764,-3165.184,804,-3165.184" stroke-width="1.375" stroke="rgb(23, 190, 207)"/><path class="markmap-link" data-depth="3" data-path="1.2.12" d="M724,-3191.277C764,-3191.277,764,-3087.402,804,-3087.402" stroke-width="1.375" stroke="rgb(255, 127, 14)"/><path class="markmap-link" data-depth="3" data-path="1.15.16" d="M767,-2968.434C807,-2968.434,807,-2894.121,847,-2894.121" stroke-width="1.375" stroke="rgb(140, 86, 75)"/><path class="markmap-link" data-depth="4" data-path="1.17.18.19" d="M1029,-2791.277C1069,-2791.277,1069,-2860.84,1109,-2860.84" stroke-width="1.1875" stroke="rgb(188, 189, 34)"/><path class="markmap-link" data-depth="4" data-path="1.17.18.20" d="M1029,-2791.277C1069,-2791.277,1069,-2832.652,1109,-2832.652" stroke-width="1.1875" stroke="rgb(23, 190, 207)"/><path class="markmap-link" data-depth="4" data-path="1.17.18.21" d="M1029,-2791.277C1069,-2791.277,1069,-2804.465,1109,-2804.465" stroke-width="1.1875" stroke="rgb(31, 119, 180)"/><path class="markmap-link" data-depth="4" data-path="1.17.18.22" d="M1029,-2791.277C1069,-2791.277,1069,-2776.277,1109,-2776.277" stroke-width="1.1875" stroke="rgb(255, 127, 14)"/><path class="markmap-link" data-depth="4" data-path="1.17.18.23" d="M1029,-2791.277C1069,-2791.277,1069,-2748.09,1109,-2748.09" stroke-width="1.1875" stroke="rgb(44, 160, 44)"/><path class="markmap-link" data-depth="4" data-path="1.17.18.24" d="M1029,-2791.277C1069,-2791.277,1069,-2719.902,1109,-2719.902" stroke-width="1.1875" stroke="rgb(214, 39, 40)"/><path class="markmap-link" data-depth="4" data-path="1.17.25.26" d="M1031,-2525.121C1071,-2525.121,1071,-2361.715,1111,-2361.715" stroke-width="1.1875" stroke="rgb(140, 86, 75)"/><path class="markmap-link" data-depth="4" data-path="1.17.27.28" d="M1313,-2116.934C1353,-2116.934,1353,-1903.527,1393,-1903.527" stroke-width="1.1875" stroke="rgb(127, 127, 127)"/><path class="markmap-link" data-depth="3" data-path="1.17.18" d="M779,-2453.918C819,-2453.918,819,-2791.277,859,-2791.277" stroke-width="1.375" stroke="rgb(127, 127, 127)"/><path class="markmap-link" data-depth="3" data-path="1.17.25" d="M779,-2453.918C819,-2453.918,819,-2525.121,859,-2525.121" stroke-width="1.375" stroke="rgb(148, 103, 189)"/><path class="markmap-link" data-depth="3" data-path="1.17.27" d="M779,-2453.918C819,-2453.918,819,-2116.934,859,-2116.934" stroke-width="1.375" stroke="rgb(227, 119, 194)"/><path class="markmap-link" data-depth="4" data-path="1.29.30.31" d="M1040,-1767.746C1080,-1767.746,1080,-1665.34,1120,-1665.34" stroke-width="1.1875" stroke="rgb(31, 119, 180)"/><path class="markmap-link" data-depth="5" data-path="1.29.32.33.34" d="M1209,-1606.059C1249,-1606.059,1249,-1634.199,1289,-1634.199" stroke-width="1.09375" stroke="rgb(214, 39, 40)"/><path class="markmap-link" data-depth="5" data-path="1.29.32.33.35" d="M1209,-1606.059C1249,-1606.059,1249,-1608.105,1289,-1608.105" stroke-width="1.09375" stroke="rgb(148, 103, 189)"/><path class="markmap-link" data-depth="5" data-path="1.29.32.33.36" d="M1209,-1606.059C1249,-1606.059,1249,-1580.012,1289,-1580.012" stroke-width="1.09375" stroke="rgb(140, 86, 75)"/><path class="markmap-link" data-depth="5" data-path="1.29.32.37.38" d="M1173,-1520.777C1213,-1520.777,1213,-1548.918,1253,-1548.918" stroke-width="1.09375" stroke="rgb(127, 127, 127)"/><path class="markmap-link" data-depth="5" data-path="1.29.32.37.39" d="M1173,-1520.777C1213,-1520.777,1213,-1522.824,1253,-1522.824" stroke-width="1.09375" stroke="rgb(188, 189, 34)"/><path class="markmap-link" data-depth="5" data-path="1.29.32.37.40" d="M1173,-1520.777C1213,-1520.777,1213,-1494.73,1253,-1494.73" stroke-width="1.09375" stroke="rgb(23, 190, 207)"/><path class="markmap-link" data-depth="5" data-path="1.29.32.41.42" d="M1195,-1436.496C1235,-1436.496,1235,-1463.637,1275,-1463.637" stroke-width="1.09375" stroke="rgb(255, 127, 14)"/><path class="markmap-link" data-depth="5" data-path="1.29.32.41.43" d="M1195,-1436.496C1235,-1436.496,1235,-1437.543,1275,-1437.543" stroke-width="1.09375" stroke="rgb(44, 160, 44)"/><path class="markmap-link" data-depth="5" data-path="1.29.32.41.44" d="M1195,-1436.496C1235,-1436.496,1235,-1411.449,1275,-1411.449" stroke-width="1.09375" stroke="rgb(214, 39, 40)"/><path class="markmap-link" data-depth="5" data-path="1.29.32.45.46" d="M1210,-1352.215C1250,-1352.215,1250,-1380.355,1290,-1380.355" stroke-width="1.09375" stroke="rgb(140, 86, 75)"/><path class="markmap-link" data-depth="5" data-path="1.29.32.45.47" d="M1210,-1352.215C1250,-1352.215,1250,-1354.262,1290,-1354.262" stroke-width="1.09375" stroke="rgb(227, 119, 194)"/><path class="markmap-link" data-depth="5" data-path="1.29.32.45.48" d="M1210,-1352.215C1250,-1352.215,1250,-1326.168,1290,-1326.168" stroke-width="1.09375" stroke="rgb(127, 127, 127)"/><path class="markmap-link" data-depth="5" data-path="1.29.32.49.50" d="M1168,-1266.934C1208,-1266.934,1208,-1295.074,1248,-1295.074" stroke-width="1.09375" stroke="rgb(23, 190, 207)"/><path class="markmap-link" data-depth="5" data-path="1.29.32.49.51" d="M1168,-1266.934C1208,-1266.934,1208,-1268.98,1248,-1268.98" stroke-width="1.09375" stroke="rgb(31, 119, 180)"/><path class="markmap-link" data-depth="5" data-path="1.29.32.49.52" d="M1168,-1266.934C1208,-1266.934,1208,-1240.887,1248,-1240.887" stroke-width="1.09375" stroke="rgb(255, 127, 14)"/><path class="markmap-link" data-depth="5" data-path="1.29.32.53.54" d="M1188,-1181.652C1228,-1181.652,1228,-1209.793,1268,-1209.793" stroke-width="1.09375" stroke="rgb(214, 39, 40)"/><path class="markmap-link" data-depth="5" data-path="1.29.32.53.55" d="M1188,-1181.652C1228,-1181.652,1228,-1183.699,1268,-1183.699" stroke-width="1.09375" stroke="rgb(148, 103, 189)"/><path class="markmap-link" data-depth="5" data-path="1.29.32.53.56" d="M1188,-1181.652C1228,-1181.652,1228,-1155.605,1268,-1155.605" stroke-width="1.09375" stroke="rgb(140, 86, 75)"/><path class="markmap-link" data-depth="5" data-path="1.29.32.57.58" d="M1200,-1095.371C1240,-1095.371,1240,-1124.512,1280,-1124.512" stroke-width="1.09375" stroke="rgb(127, 127, 127)"/><path class="markmap-link" data-depth="5" data-path="1.29.32.57.59" d="M1200,-1095.371C1240,-1095.371,1240,-1096.418,1280,-1096.418" stroke-width="1.09375" stroke="rgb(188, 189, 34)"/><path class="markmap-link" data-depth="5" data-path="1.29.32.57.60" d="M1200,-1095.371C1240,-1095.371,1240,-1068.324,1280,-1068.324" stroke-width="1.09375" stroke="rgb(23, 190, 207)"/><path class="markmap-link" data-depth="5" data-path="1.29.32.61.62" d="M1208,-1009.09C1248,-1009.09,1248,-1037.23,1288,-1037.23" stroke-width="1.09375" stroke="rgb(255, 127, 14)"/><path class="markmap-link" data-depth="5" data-path="1.29.32.61.63" d="M1208,-1009.09C1248,-1009.09,1248,-1011.137,1288,-1011.137" stroke-width="1.09375" stroke="rgb(44, 160, 44)"/><path class="markmap-link" data-depth="5" data-path="1.29.32.61.64" d="M1208,-1009.09C1248,-1009.09,1248,-983.043,1288,-983.043" stroke-width="1.09375" stroke="rgb(214, 39, 40)"/><path class="markmap-link" data-depth="4" data-path="1.29.32.33" d="M967,-1308.48C1007,-1308.48,1007,-1606.059,1047,-1606.059" stroke-width="1.1875" stroke="rgb(44, 160, 44)"/><path class="markmap-link" data-depth="4" data-path="1.29.32.37" d="M967,-1308.48C1007,-1308.48,1007,-1520.777,1047,-1520.777" stroke-width="1.1875" stroke="rgb(227, 119, 194)"/><path class="markmap-link" data-depth="4" data-path="1.29.32.41" d="M967,-1308.48C1007,-1308.48,1007,-1436.496,1047,-1436.496" stroke-width="1.1875" stroke="rgb(31, 119, 180)"/><path class="markmap-link" data-depth="4" data-path="1.29.32.45" d="M967,-1308.48C1007,-1308.48,1007,-1352.215,1047,-1352.215" stroke-width="1.1875" stroke="rgb(148, 103, 189)"/><path class="markmap-link" data-depth="4" data-path="1.29.32.49" d="M967,-1308.48C1007,-1308.48,1007,-1266.934,1047,-1266.934" stroke-width="1.1875" stroke="rgb(188, 189, 34)"/><path class="markmap-link" data-depth="4" data-path="1.29.32.53" d="M967,-1308.48C1007,-1308.48,1007,-1181.652,1047,-1181.652" stroke-width="1.1875" stroke="rgb(44, 160, 44)"/><path class="markmap-link" data-depth="4" data-path="1.29.32.57" d="M967,-1308.48C1007,-1308.48,1007,-1095.371,1047,-1095.371" stroke-width="1.1875" stroke="rgb(227, 119, 194)"/><path class="markmap-link" data-depth="4" data-path="1.29.32.61" d="M967,-1308.48C1007,-1308.48,1007,-1009.09,1047,-1009.09" stroke-width="1.1875" stroke="rgb(31, 119, 180)"/><path class="markmap-link" data-depth="3" data-path="1.29.30" d="M742,-1372.59C782,-1372.59,782,-1767.746,822,-1767.746" stroke-width="1.375" stroke="rgb(23, 190, 207)"/><path class="markmap-link" data-depth="3" data-path="1.29.32" d="M742,-1372.59C782,-1372.59,782,-1308.48,822,-1308.48" stroke-width="1.375" stroke="rgb(255, 127, 14)"/><path class="markmap-link" data-depth="3" data-path="1.29.65" d="M742,-1372.59C782,-1372.59,782,-977.809,822,-977.809" stroke-width="1.375" stroke="rgb(148, 103, 189)"/><path class="markmap-link" data-depth="4" data-path="1.66.67.68" d="M1224,-909.527C1264,-909.527,1264,-951.902,1304,-951.902" stroke-width="1.1875" stroke="rgb(127, 127, 127)"/><path class="markmap-link" data-depth="4" data-path="1.66.67.69" d="M1224,-909.527C1264,-909.527,1264,-923.715,1304,-923.715" stroke-width="1.1875" stroke="rgb(188, 189, 34)"/><path class="markmap-link" data-depth="4" data-path="1.66.67.70" d="M1224,-909.527C1264,-909.527,1264,-895.527,1304,-895.527" stroke-width="1.1875" stroke="rgb(23, 190, 207)"/><path class="markmap-link" data-depth="4" data-path="1.66.67.71" d="M1224,-909.527C1264,-909.527,1264,-867.34,1304,-867.34" stroke-width="1.1875" stroke="rgb(31, 119, 180)"/><path class="markmap-link" data-depth="5" data-path="1.66.72.73.74" d="M1633,-821.105C1673,-821.105,1673,-836.199,1713,-836.199" stroke-width="1.09375" stroke="rgb(214, 39, 40)"/><path class="markmap-link" data-depth="5" data-path="1.66.72.73.75" d="M1633,-821.105C1673,-821.105,1673,-808.105,1713,-808.105" stroke-width="1.09375" stroke="rgb(148, 103, 189)"/><path class="markmap-link" data-depth="5" data-path="1.66.72.76.77" d="M1571,-761.918C1611,-761.918,1611,-777.012,1651,-777.012" stroke-width="1.09375" stroke="rgb(227, 119, 194)"/><path class="markmap-link" data-depth="5" data-path="1.66.72.76.78" d="M1571,-761.918C1611,-761.918,1611,-748.918,1651,-748.918" stroke-width="1.09375" stroke="rgb(127, 127, 127)"/><path class="markmap-link" data-depth="5" data-path="1.66.72.79.80" d="M1619,-702.73C1659,-702.73,1659,-717.824,1699,-717.824" stroke-width="1.09375" stroke="rgb(23, 190, 207)"/><path class="markmap-link" data-depth="5" data-path="1.66.72.79.81" d="M1619,-702.73C1659,-702.73,1659,-689.73,1699,-689.73" stroke-width="1.09375" stroke="rgb(31, 119, 180)"/><path class="markmap-link" data-depth="5" data-path="1.66.72.82.83" d="M1610,-643.543C1650,-643.543,1650,-658.637,1690,-658.637" stroke-width="1.09375" stroke="rgb(44, 160, 44)"/><path class="markmap-link" data-depth="5" data-path="1.66.72.82.84" d="M1610,-643.543C1650,-643.543,1650,-630.543,1690,-630.543" stroke-width="1.09375" stroke="rgb(214, 39, 40)"/><path class="markmap-link" data-depth="5" data-path="1.66.72.85.86" d="M1607,-584.355C1647,-584.355,1647,-599.449,1687,-599.449" stroke-width="1.09375" stroke="rgb(140, 86, 75)"/><path class="markmap-link" data-depth="5" data-path="1.66.72.85.87" d="M1607,-584.355C1647,-584.355,1647,-571.355,1687,-571.355" stroke-width="1.09375" stroke="rgb(227, 119, 194)"/><path class="markmap-link" data-depth="4" data-path="1.66.72.73" d="M1319,-703.637C1359,-703.637,1359,-821.105,1399,-821.105" stroke-width="1.1875" stroke="rgb(44, 160, 44)"/><path class="markmap-link" data-depth="4" data-path="1.66.72.76" d="M1319,-703.637C1359,-703.637,1359,-761.918,1399,-761.918" stroke-width="1.1875" stroke="rgb(140, 86, 75)"/><path class="markmap-link" data-depth="4" data-path="1.66.72.79" d="M1319,-703.637C1359,-703.637,1359,-702.73,1399,-702.73" stroke-width="1.1875" stroke="rgb(188, 189, 34)"/><path class="markmap-link" data-depth="4" data-path="1.66.72.82" d="M1319,-703.637C1359,-703.637,1359,-643.543,1399,-643.543" stroke-width="1.1875" stroke="rgb(255, 127, 14)"/><path class="markmap-link" data-depth="4" data-path="1.66.72.85" d="M1319,-703.637C1359,-703.637,1359,-584.355,1399,-584.355" stroke-width="1.1875" stroke="rgb(148, 103, 189)"/><path class="markmap-link" data-depth="5" data-path="1.66.88.89.90" d="M1895,-516.168C1935,-516.168,1935,-538.262,1975,-538.262" stroke-width="1.09375" stroke="rgb(23, 190, 207)"/><path class="markmap-link" data-depth="5" data-path="1.66.88.89.91" d="M1895,-516.168C1935,-516.168,1935,-512.168,1975,-512.168" stroke-width="1.09375" stroke="rgb(31, 119, 180)"/><path class="markmap-link" data-depth="6" data-path="1.66.88.92.93.94" d="M3378,-479.074C3418,-479.074,3418,-572.262,3458,-572.262" stroke-width="1.046875" stroke="rgb(214, 39, 40)"/><path class="markmap-link" data-depth="6" data-path="1.66.88.92.93.95" d="M3378,-479.074C3418,-479.074,3418,-544.215,3458,-544.215" stroke-width="1.046875" stroke="rgb(148, 103, 189)"/><path class="markmap-link" data-depth="6" data-path="1.66.88.92.93.96" d="M3378,-479.074C3418,-479.074,3418,-518.168,3458,-518.168" stroke-width="1.046875" stroke="rgb(140, 86, 75)"/><path class="markmap-link" data-depth="6" data-path="1.66.88.92.93.97" d="M3378,-479.074C3418,-479.074,3418,-492.121,3458,-492.121" stroke-width="1.046875" stroke="rgb(227, 119, 194)"/><path class="markmap-link" data-depth="6" data-path="1.66.88.92.93.98" d="M3378,-479.074C3418,-479.074,3418,-466.074,3458,-466.074" stroke-width="1.046875" stroke="rgb(127, 127, 127)"/><path class="markmap-link" data-depth="6" data-path="1.66.88.92.93.99" d="M3378,-479.074C3418,-479.074,3418,-440.027,3458,-440.027" stroke-width="1.046875" stroke="rgb(188, 189, 34)"/><path class="markmap-link" data-depth="6" data-path="1.66.88.92.93.100" d="M3378,-479.074C3418,-479.074,3418,-413.98,3458,-413.98" stroke-width="1.046875" stroke="rgb(23, 190, 207)"/><path class="markmap-link" data-depth="6" data-path="1.66.88.92.93.101" d="M3378,-479.074C3418,-479.074,3418,-387.934,3458,-387.934" stroke-width="1.046875" stroke="rgb(31, 119, 180)"/><path class="markmap-link" data-depth="5" data-path="1.66.88.92.93" d="M2188,-408.922C2228,-408.922,2228,-479.074,2268,-479.074" stroke-width="1.09375" stroke="rgb(44, 160, 44)"/><path class="markmap-link" data-depth="5" data-path="1.66.88.92.102" d="M2188,-408.922C2228,-408.922,2228,-356.863,2268,-356.863" stroke-width="1.09375" stroke="rgb(255, 127, 14)"/><path class="markmap-link" data-depth="6" data-path="1.66.88.103.104.105" d="M2849,-281.699C2889,-281.699,2889,-323.793,2929,-323.793" stroke-width="1.046875" stroke="rgb(148, 103, 189)"/><path class="markmap-link" data-depth="6" data-path="1.66.88.103.104.106" d="M2849,-281.699C2889,-281.699,2889,-295.746,2929,-295.746" stroke-width="1.046875" stroke="rgb(140, 86, 75)"/><path class="markmap-link" data-depth="6" data-path="1.66.88.103.104.107" d="M2849,-281.699C2889,-281.699,2889,-267.699,2929,-267.699" stroke-width="1.046875" stroke="rgb(227, 119, 194)"/><path class="markmap-link" data-depth="6" data-path="1.66.88.103.104.108" d="M2849,-281.699C2889,-281.699,2889,-239.652,2929,-239.652" stroke-width="1.046875" stroke="rgb(127, 127, 127)"/><path class="markmap-link" data-depth="5" data-path="1.66.88.103.104" d="M1938,-236.094C1978,-236.094,1978,-281.699,2018,-281.699" stroke-width="1.09375" stroke="rgb(214, 39, 40)"/><path class="markmap-link" data-depth="5" data-path="1.66.88.103.109" d="M1938,-236.094C1978,-236.094,1978,-208.582,2018,-208.582" stroke-width="1.09375" stroke="rgb(188, 189, 34)"/><path class="markmap-link" data-depth="5" data-path="1.66.88.110.111" d="M1949,-153.395C1989,-153.395,1989,-175.488,2029,-175.488" stroke-width="1.09375" stroke="rgb(31, 119, 180)"/><path class="markmap-link" data-depth="5" data-path="1.66.88.110.112" d="M1949,-153.395C1989,-153.395,1989,-149.395,2029,-149.395" stroke-width="1.09375" stroke="rgb(255, 127, 14)"/><path class="markmap-link" data-depth="5" data-path="1.66.88.113.114" d="M1998,-94.207C2038,-94.207,2038,-116.301,2078,-116.301" stroke-width="1.09375" stroke="rgb(214, 39, 40)"/><path class="markmap-link" data-depth="5" data-path="1.66.88.113.115" d="M1998,-94.207C2038,-94.207,2038,-90.207,2078,-90.207" stroke-width="1.09375" stroke="rgb(148, 103, 189)"/><path class="markmap-link" data-depth="4" data-path="1.66.88.89" d="M1602,-314.094C1642,-314.094,1642,-516.168,1682,-516.168" stroke-width="1.1875" stroke="rgb(188, 189, 34)"/><path class="markmap-link" data-depth="4" data-path="1.66.88.92" d="M1602,-314.094C1642,-314.094,1642,-408.922,1682,-408.922" stroke-width="1.1875" stroke="rgb(255, 127, 14)"/><path class="markmap-link" data-depth="4" data-path="1.66.88.103" d="M1602,-314.094C1642,-314.094,1642,-236.094,1682,-236.094" stroke-width="1.1875" stroke="rgb(44, 160, 44)"/><path class="markmap-link" data-depth="4" data-path="1.66.88.110" d="M1602,-314.094C1642,-314.094,1642,-153.395,1682,-153.395" stroke-width="1.1875" stroke="rgb(23, 190, 207)"/><path class="markmap-link" data-depth="4" data-path="1.66.88.113" d="M1602,-314.094C1642,-314.094,1642,-94.207,1682,-94.207" stroke-width="1.1875" stroke="rgb(44, 160, 44)"/><path class="markmap-link" data-depth="4" data-path="1.66.116.117" d="M1258,347.715C1298,347.715,1298,167.934,1338,167.934" stroke-width="1.1875" stroke="rgb(227, 119, 194)"/><path class="markmap-link" data-depth="4" data-path="1.66.116.118" d="M1258,347.715C1298,347.715,1298,481.121,1338,481.121" stroke-width="1.1875" stroke="rgb(127, 127, 127)"/><path class="markmap-link" data-depth="4" data-path="1.66.116.119" d="M1258,347.715C1298,347.715,1298,754.309,1338,754.309" stroke-width="1.1875" stroke="rgb(188, 189, 34)"/><path class="markmap-link" data-depth="3" data-path="1.66.67" d="M1022,-279.719C1062,-279.719,1062,-909.527,1102,-909.527" stroke-width="1.375" stroke="rgb(227, 119, 194)"/><path class="markmap-link" data-depth="3" data-path="1.66.72" d="M1022,-279.719C1062,-279.719,1062,-703.637,1102,-703.637" stroke-width="1.375" stroke="rgb(255, 127, 14)"/><path class="markmap-link" data-depth="3" data-path="1.66.88" d="M1022,-279.719C1062,-279.719,1062,-314.094,1102,-314.094" stroke-width="1.375" stroke="rgb(127, 127, 127)"/><path class="markmap-link" data-depth="3" data-path="1.66.116" d="M1022,-279.719C1062,-279.719,1062,347.715,1102,347.715" stroke-width="1.375" stroke="rgb(140, 86, 75)"/><path class="markmap-link" data-depth="4" data-path="1.120.121.122" d="M880,979.09C920,979.09,920,1172.496,960,1172.496" stroke-width="1.1875" stroke="rgb(255, 127, 14)"/><path class="markmap-link" data-depth="5" data-path="1.120.123.124.125" d="M1140,1231.777C1180,1231.777,1180,1203.637,1220,1203.637" stroke-width="1.09375" stroke="rgb(148, 103, 189)"/><path class="markmap-link" data-depth="5" data-path="1.120.123.124.126" d="M1140,1231.777C1180,1231.777,1180,1231.73,1220,1231.73" stroke-width="1.09375" stroke="rgb(140, 86, 75)"/><path class="markmap-link" data-depth="5" data-path="1.120.123.124.127" d="M1140,1231.777C1180,1231.777,1180,1257.824,1220,1257.824" stroke-width="1.09375" stroke="rgb(227, 119, 194)"/><path class="markmap-link" data-depth="5" data-path="1.120.123.128.129" d="M989,1317.059C1029,1317.059,1029,1288.918,1069,1288.918" stroke-width="1.09375" stroke="rgb(188, 189, 34)"/><path class="markmap-link" data-depth="5" data-path="1.120.123.128.130" d="M989,1317.059C1029,1317.059,1029,1317.012,1069,1317.012" stroke-width="1.09375" stroke="rgb(23, 190, 207)"/><path class="markmap-link" data-depth="5" data-path="1.120.123.128.131" d="M989,1317.059C1029,1317.059,1029,1343.105,1069,1343.105" stroke-width="1.09375" stroke="rgb(31, 119, 180)"/><path class="markmap-link" data-depth="5" data-path="1.120.123.132.133" d="M1090,1401.34C1130,1401.34,1130,1374.199,1170,1374.199" stroke-width="1.09375" stroke="rgb(44, 160, 44)"/><path class="markmap-link" data-depth="5" data-path="1.120.123.132.134" d="M1090,1401.34C1130,1401.34,1130,1400.293,1170,1400.293" stroke-width="1.09375" stroke="rgb(214, 39, 40)"/><path class="markmap-link" data-depth="5" data-path="1.120.123.132.135" d="M1090,1401.34C1130,1401.34,1130,1426.387,1170,1426.387" stroke-width="1.09375" stroke="rgb(148, 103, 189)"/><path class="markmap-link" data-depth="4" data-path="1.120.123.124" d="M853,1344.746C893,1344.746,893,1231.777,933,1231.777" stroke-width="1.1875" stroke="rgb(214, 39, 40)"/><path class="markmap-link" data-depth="4" data-path="1.120.123.128" d="M853,1344.746C893,1344.746,893,1317.059,933,1317.059" stroke-width="1.1875" stroke="rgb(127, 127, 127)"/><path class="markmap-link" data-depth="4" data-path="1.120.123.132" d="M853,1344.746C893,1344.746,893,1401.34,933,1401.34" stroke-width="1.1875" stroke="rgb(255, 127, 14)"/><path class="markmap-link" data-depth="4" data-path="1.120.123.136" d="M853,1344.746C893,1344.746,893,1459.527,933,1459.527" stroke-width="1.1875" stroke="rgb(140, 86, 75)"/><path class="markmap-link" data-depth="4" data-path="1.120.137.138" d="M844,1519.996C884,1519.996,884,1492.715,924,1492.715" stroke-width="1.1875" stroke="rgb(127, 127, 127)"/><path class="markmap-link" data-depth="4" data-path="1.120.137.139" d="M844,1519.996C884,1519.996,884,1520.902,924,1520.902" stroke-width="1.1875" stroke="rgb(188, 189, 34)"/><path class="markmap-link" data-depth="4" data-path="1.120.137.140" d="M844,1519.996C884,1519.996,884,1549.09,924,1549.09" stroke-width="1.1875" stroke="rgb(23, 190, 207)"/><path class="markmap-link" data-depth="5" data-path="1.120.141.143.144" d="M2115,1610.465C2155,1610.465,2155,1610.418,2195,1610.418" stroke-width="1.09375" stroke="rgb(214, 39, 40)"/><path class="markmap-link" data-depth="4" data-path="1.120.141.142" d="M898,1595.465C938,1595.465,938,1582.277,978,1582.277" stroke-width="1.1875" stroke="rgb(255, 127, 14)"/><path class="markmap-link" data-depth="4" data-path="1.120.141.143" d="M898,1595.465C938,1595.465,938,1610.465,978,1610.465" stroke-width="1.1875" stroke="rgb(44, 160, 44)"/><path class="markmap-link" data-depth="4" data-path="1.120.145.146" d="M812,1699.121C852,1699.121,852,1643.652,892,1643.652" stroke-width="1.1875" stroke="rgb(140, 86, 75)"/><path class="markmap-link" data-depth="4" data-path="1.120.145.147" d="M812,1699.121C852,1699.121,852,1671.84,892,1671.84" stroke-width="1.1875" stroke="rgb(227, 119, 194)"/><path class="markmap-link" data-depth="4" data-path="1.120.145.148" d="M812,1699.121C852,1699.121,852,1700.027,892,1700.027" stroke-width="1.1875" stroke="rgb(127, 127, 127)"/><path class="markmap-link" data-depth="4" data-path="1.120.145.149" d="M812,1699.121C852,1699.121,852,1728.215,892,1728.215" stroke-width="1.1875" stroke="rgb(188, 189, 34)"/><path class="markmap-link" data-depth="4" data-path="1.120.145.150" d="M812,1699.121C852,1699.121,852,1756.402,892,1756.402" stroke-width="1.1875" stroke="rgb(23, 190, 207)"/><path class="markmap-link" data-depth="3" data-path="1.120.121" d="M597,1339.293C637,1339.293,637,979.09,677,979.09" stroke-width="1.375" stroke="rgb(31, 119, 180)"/><path class="markmap-link" data-depth="3" data-path="1.120.123" d="M597,1339.293C637,1339.293,637,1344.746,677,1344.746" stroke-width="1.375" stroke="rgb(44, 160, 44)"/><path class="markmap-link" data-depth="3" data-path="1.120.137" d="M597,1339.293C637,1339.293,637,1519.996,677,1519.996" stroke-width="1.375" stroke="rgb(227, 119, 194)"/><path class="markmap-link" data-depth="3" data-path="1.120.141" d="M597,1339.293C637,1339.293,637,1595.465,677,1595.465" stroke-width="1.375" stroke="rgb(31, 119, 180)"/><path class="markmap-link" data-depth="3" data-path="1.120.145" d="M597,1339.293C637,1339.293,637,1699.121,677,1699.121" stroke-width="1.375" stroke="rgb(148, 103, 189)"/><path class="markmap-link" data-depth="5" data-path="1.151.152.157.158" d="M1215,2218.434C1255,2218.434,1255,2192.293,1295,2192.293" stroke-width="1.09375" stroke="rgb(127, 127, 127)"/><path class="markmap-link" data-depth="5" data-path="1.151.152.157.159" d="M1215,2218.434C1255,2218.434,1255,2220.387,1295,2220.387" stroke-width="1.09375" stroke="rgb(188, 189, 34)"/><path class="markmap-link" data-depth="5" data-path="1.151.152.157.160" d="M1215,2218.434C1255,2218.434,1255,2246.48,1295,2246.48" stroke-width="1.09375" stroke="rgb(23, 190, 207)"/><path class="markmap-link" data-depth="4" data-path="1.151.152.153" d="M997,2004.105C1037,2004.105,1037,1789.59,1077,1789.59" stroke-width="1.1875" stroke="rgb(44, 160, 44)"/><path class="markmap-link" data-depth="4" data-path="1.151.152.154" d="M997,2004.105C1037,2004.105,1037,1817.777,1077,1817.777" stroke-width="1.1875" stroke="rgb(214, 39, 40)"/><path class="markmap-link" data-depth="4" data-path="1.151.152.155" d="M997,2004.105C1037,2004.105,1037,1845.965,1077,1845.965" stroke-width="1.1875" stroke="rgb(148, 103, 189)"/><path class="markmap-link" data-depth="4" data-path="1.151.152.156" d="M997,2004.105C1037,2004.105,1037,2159.152,1077,2159.152" stroke-width="1.1875" stroke="rgb(140, 86, 75)"/><path class="markmap-link" data-depth="4" data-path="1.151.152.157" d="M997,2004.105C1037,2004.105,1037,2218.434,1077,2218.434" stroke-width="1.1875" stroke="rgb(227, 119, 194)"/><path class="markmap-link" data-depth="5" data-path="1.151.161.162.163" d="M1441,2305.715C1481,2305.715,1481,2279.574,1521,2279.574" stroke-width="1.09375" stroke="rgb(44, 160, 44)"/><path class="markmap-link" data-depth="5" data-path="1.151.161.162.164" d="M1441,2305.715C1481,2305.715,1481,2307.668,1521,2307.668" stroke-width="1.09375" stroke="rgb(214, 39, 40)"/><path class="markmap-link" data-depth="5" data-path="1.151.161.162.165" d="M1441,2305.715C1481,2305.715,1481,2333.762,1521,2333.762" stroke-width="1.09375" stroke="rgb(148, 103, 189)"/><path class="markmap-link" data-depth="5" data-path="1.151.161.166.167" d="M1450,2416.496C1490,2416.496,1490,2366.855,1530,2366.855" stroke-width="1.09375" stroke="rgb(227, 119, 194)"/><path class="markmap-link" data-depth="5" data-path="1.151.161.166.168" d="M1450,2416.496C1490,2416.496,1490,2394.949,1530,2394.949" stroke-width="1.09375" stroke="rgb(127, 127, 127)"/><path class="markmap-link" data-depth="5" data-path="1.151.161.166.169" d="M1450,2416.496C1490,2416.496,1490,2468.043,1530,2468.043" stroke-width="1.09375" stroke="rgb(188, 189, 34)"/><path class="markmap-link" data-depth="5" data-path="1.151.161.170.171" d="M1490,2514.23C1530,2514.23,1530,2501.137,1570,2501.137" stroke-width="1.09375" stroke="rgb(31, 119, 180)"/><path class="markmap-link" data-depth="5" data-path="1.151.161.170.172" d="M1490,2514.23C1530,2514.23,1530,2527.23,1570,2527.23" stroke-width="1.09375" stroke="rgb(255, 127, 14)"/><path class="markmap-link" data-depth="4" data-path="1.151.161.162" d="M1029,2411.066C1069,2411.066,1069,2305.715,1109,2305.715" stroke-width="1.1875" stroke="rgb(255, 127, 14)"/><path class="markmap-link" data-depth="4" data-path="1.151.161.166" d="M1029,2411.066C1069,2411.066,1069,2416.496,1109,2416.496" stroke-width="1.1875" stroke="rgb(140, 86, 75)"/><path class="markmap-link" data-depth="4" data-path="1.151.161.170" d="M1029,2411.066C1069,2411.066,1069,2514.23,1109,2514.23" stroke-width="1.1875" stroke="rgb(23, 190, 207)"/><path class="markmap-link" data-depth="5" data-path="1.151.173.174.175" d="M1232,2587.465C1272,2587.465,1272,2560.324,1312,2560.324" stroke-width="1.09375" stroke="rgb(148, 103, 189)"/><path class="markmap-link" data-depth="5" data-path="1.151.173.174.176" d="M1232,2587.465C1272,2587.465,1272,2588.418,1312,2588.418" stroke-width="1.09375" stroke="rgb(140, 86, 75)"/><path class="markmap-link" data-depth="5" data-path="1.151.173.174.177" d="M1232,2587.465C1272,2587.465,1272,2616.512,1312,2616.512" stroke-width="1.09375" stroke="rgb(227, 119, 194)"/><path class="markmap-link" data-depth="4" data-path="1.151.173.174" d="M978,2632.746C1018,2632.746,1018,2587.465,1058,2587.465" stroke-width="1.1875" stroke="rgb(214, 39, 40)"/><path class="markmap-link" data-depth="4" data-path="1.151.173.178" d="M978,2632.746C1018,2632.746,1018,2649.652,1058,2649.652" stroke-width="1.1875" stroke="rgb(127, 127, 127)"/><path class="markmap-link" data-depth="4" data-path="1.151.173.179" d="M978,2632.746C1018,2632.746,1018,2675.84,1058,2675.84" stroke-width="1.1875" stroke="rgb(188, 189, 34)"/><path class="markmap-link" data-depth="3" data-path="1.151.152" d="M562,2317.613C602,2317.613,602,2004.105,642,2004.105" stroke-width="1.375" stroke="rgb(255, 127, 14)"/><path class="markmap-link" data-depth="3" data-path="1.151.161" d="M562,2317.613C602,2317.613,602,2411.066,642,2411.066" stroke-width="1.375" stroke="rgb(31, 119, 180)"/><path class="markmap-link" data-depth="3" data-path="1.151.173" d="M562,2317.613C602,2317.613,602,2632.746,642,2632.746" stroke-width="1.375" stroke="rgb(44, 160, 44)"/><path class="markmap-link" data-depth="4" data-path="1.180.181.182" d="M932,2748.402C972,2748.402,972,2709.027,1012,2709.027" stroke-width="1.1875" stroke="rgb(255, 127, 14)"/><path class="markmap-link" data-depth="4" data-path="1.180.181.183" d="M932,2748.402C972,2748.402,972,2737.215,1012,2737.215" stroke-width="1.1875" stroke="rgb(44, 160, 44)"/><path class="markmap-link" data-depth="4" data-path="1.180.181.184" d="M932,2748.402C972,2748.402,972,2763.402,1012,2763.402" stroke-width="1.1875" stroke="rgb(214, 39, 40)"/><path class="markmap-link" data-depth="4" data-path="1.180.181.185" d="M932,2748.402C972,2748.402,972,2789.59,1012,2789.59" stroke-width="1.1875" stroke="rgb(148, 103, 189)"/><path class="markmap-link" data-depth="3" data-path="1.180.181" d="M723,2748.59C763,2748.59,763,2748.402,803,2748.402" stroke-width="1.375" stroke="rgb(31, 119, 180)"/><path class="markmap-link" data-depth="4" data-path="1.186.187.188" d="M626,2850.059C666,2850.059,666,2822.777,706,2822.777" stroke-width="1.1875" stroke="rgb(127, 127, 127)"/><path class="markmap-link" data-depth="4" data-path="1.186.187.189" d="M626,2850.059C666,2850.059,666,2850.965,706,2850.965" stroke-width="1.1875" stroke="rgb(188, 189, 34)"/><path class="markmap-link" data-depth="4" data-path="1.186.187.190" d="M626,2850.059C666,2850.059,666,2879.152,706,2879.152" stroke-width="1.1875" stroke="rgb(23, 190, 207)"/><path class="markmap-link" data-depth="4" data-path="1.186.191.192" d="M656,2939.621C696,2939.621,696,2912.34,736,2912.34" stroke-width="1.1875" stroke="rgb(255, 127, 14)"/><path class="markmap-link" data-depth="4" data-path="1.186.191.193" d="M656,2939.621C696,2939.621,696,2940.527,736,2940.527" stroke-width="1.1875" stroke="rgb(44, 160, 44)"/><path class="markmap-link" data-depth="4" data-path="1.186.191.194" d="M656,2939.621C696,2939.621,696,2968.715,736,2968.715" stroke-width="1.1875" stroke="rgb(214, 39, 40)"/><path class="markmap-link" data-depth="4" data-path="1.186.195.196" d="M660,3064.184C700,3064.184,700,3001.902,740,3001.902" stroke-width="1.1875" stroke="rgb(140, 86, 75)"/><path class="markmap-link" data-depth="4" data-path="1.186.195.197" d="M660,3064.184C700,3064.184,700,3028.09,740,3028.09" stroke-width="1.1875" stroke="rgb(227, 119, 194)"/><path class="markmap-link" data-depth="4" data-path="1.186.195.198" d="M660,3064.184C700,3064.184,700,3128.277,740,3128.277" stroke-width="1.1875" stroke="rgb(127, 127, 127)"/><path class="markmap-link" data-depth="3" data-path="1.186.187" d="M464,2970.496C504,2970.496,504,2850.059,544,2850.059" stroke-width="1.375" stroke="rgb(227, 119, 194)"/><path class="markmap-link" data-depth="3" data-path="1.186.191" d="M464,2970.496C504,2970.496,504,2939.621,544,2939.621" stroke-width="1.375" stroke="rgb(31, 119, 180)"/><path class="markmap-link" data-depth="3" data-path="1.186.195" d="M464,2970.496C504,2970.496,504,3064.184,544,3064.184" stroke-width="1.375" stroke="rgb(148, 103, 189)"/><path class="markmap-link" data-depth="3" data-path="1.186.199" d="M464,2970.496C504,2970.496,504,3090.559,544,3090.559" stroke-width="1.375" stroke="rgb(188, 189, 34)"/><path class="markmap-link" data-depth="4" data-path="1.200.202.203" d="M860,3226.027C900,3226.027,900,3161.465,940,3161.465" stroke-width="1.1875" stroke="rgb(44, 160, 44)"/><path class="markmap-link" data-depth="4" data-path="1.200.202.204" d="M860,3226.027C900,3226.027,900,3187.652,940,3187.652" stroke-width="1.1875" stroke="rgb(214, 39, 40)"/><path class="markmap-link" data-depth="4" data-path="1.200.202.205" d="M860,3226.027C900,3226.027,900,3213.84,940,3213.84" stroke-width="1.1875" stroke="rgb(148, 103, 189)"/><path class="markmap-link" data-depth="4" data-path="1.200.202.206" d="M860,3226.027C900,3226.027,900,3240.027,940,3240.027" stroke-width="1.1875" stroke="rgb(140, 86, 75)"/><path class="markmap-link" data-depth="4" data-path="1.200.202.207" d="M860,3226.027C900,3226.027,900,3266.215,940,3266.215" stroke-width="1.1875" stroke="rgb(227, 119, 194)"/><path class="markmap-link" data-depth="4" data-path="1.200.202.208" d="M860,3226.027C900,3226.027,900,3292.402,940,3292.402" stroke-width="1.1875" stroke="rgb(127, 127, 127)"/><path class="markmap-link" data-depth="3" data-path="1.200.201" d="M643,3213.027C683,3213.027,683,3199.652,723,3199.652" stroke-width="1.375" stroke="rgb(31, 119, 180)"/><path class="markmap-link" data-depth="3" data-path="1.200.202" d="M643,3213.027C683,3213.027,683,3226.027,723,3226.027" stroke-width="1.375" stroke="rgb(255, 127, 14)"/><path class="markmap-link" data-depth="2" data-path="1.2" d="M300,11.25C340,11.25,340,-3191.277,380,-3191.277" stroke-width="1.75" stroke="rgb(255, 127, 14)"/><path class="markmap-link" data-depth="2" data-path="1.15" d="M300,11.25C340,11.25,340,-2968.434,380,-2968.434" stroke-width="1.75" stroke="rgb(148, 103, 189)"/><path class="markmap-link" data-depth="2" data-path="1.17" d="M300,11.25C340,11.25,340,-2453.918,380,-2453.918" stroke-width="1.75" stroke="rgb(227, 119, 194)"/><path class="markmap-link" data-depth="2" data-path="1.29" d="M300,11.25C340,11.25,340,-1372.59,380,-1372.59" stroke-width="1.75" stroke="rgb(188, 189, 34)"/><path class="markmap-link" data-depth="2" data-path="1.66" d="M300,11.25C340,11.25,340,-279.719,380,-279.719" stroke-width="1.75" stroke="rgb(140, 86, 75)"/><path class="markmap-link" data-depth="2" data-path="1.120" d="M300,11.25C340,11.25,340,1339.293,380,1339.293" stroke-width="1.75" stroke="rgb(23, 190, 207)"/><path class="markmap-link" data-depth="2" data-path="1.151" d="M300,11.25C340,11.25,340,2317.613,380,2317.613" stroke-width="1.75" stroke="rgb(31, 119, 180)"/><path class="markmap-link" data-depth="2" data-path="1.180" d="M300,11.25C340,11.25,340,2748.59,380,2748.59" stroke-width="1.75" stroke="rgb(23, 190, 207)"/><path class="markmap-link" data-depth="2" data-path="1.186" d="M300,11.25C340,11.25,340,2970.496,380,2970.496" stroke-width="1.75" stroke="rgb(140, 86, 75)"/><path class="markmap-link" data-depth="2" data-path="1.200" d="M300,11.25C340,11.25,340,3213.027,380,3213.027" stroke-width="1.75" stroke="rgb(23, 190, 207)"/><g class="markmap-highlight"/><g data-depth="3" data-path="1.2.3" class="markmap-node" transform="translate(804, -3316.21484375)"><line stroke="#2ca02c" stroke-width="1.375" x1="-1" x2="52" y1="20.6875" y2="20.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="34" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Goal</div></div></foreignObject></g><g data-depth="4" data-path="1.2.4.5" class="markmap-node" transform="translate(1244, -3329.12109375)"><line stroke="#9467bd" stroke-width="1.1875" x1="-1" x2="1328" y1="20.59375" y2="20.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1310" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Lack of Adaptability:</strong> Static prompts cannot react to how the conversation evolves. They don't adjust if the discussion loses focus, becomes too complex, or requires a shift in strategy.</div></div></foreignObject></g><g data-depth="4" data-path="1.2.4.6" class="markmap-node" transform="translate(1244, -3302.93359375)"><line stroke="#8c564b" stroke-width="1.1875" x1="-1" x2="1092" y1="20.59375" y2="20.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1074" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Context Insensitivity:</strong> The same instructions are used regardless of the specific topic nuances, participant roles, or conversational goals that emerge.</div></div></foreignObject></g><g data-depth="4" data-path="1.2.4.7" class="markmap-node" transform="translate(1244, -3276.74609375)"><line stroke="#e377c2" stroke-width="1.1875" x1="-1" x2="1700" y1="20.59375" y2="20.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1682" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Superficiality &amp; Drift:</strong> Without dynamic guidance, conversations can sometimes become superficial, repetitive, or drift away from the intended topic or goal. LLMs might discuss <em>how</em> they would perform a task instead of actually doing it.</div></div></foreignObject></g><g data-depth="4" data-path="1.2.4.8" class="markmap-node" transform="translate(1244, -3250.55859375)"><line stroke="#7f7f7f" stroke-width="1.1875" x1="-1" x2="1695" y1="20.59375" y2="20.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1677" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Behavioral Inconsistency:</strong> Enforcing specific conversational styles (e.g., critical analysis, collaborative brainstorming, acting like a specific persona) consistently throughout a long conversation using only a static prompt is challenging.</div></div></foreignObject></g><g data-depth="3" data-path="1.2.4" class="markmap-node" transform="translate(804, -3289.83984375)"><line stroke="#d62728" stroke-width="1.375" x1="-1" x2="362" y1="20.6875" y2="20.6875"/><circle stroke-width="1.5" r="6" stroke="#d62728" fill="var(--markmap-circle-open-bg)" cx="360" cy="20.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="344" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">First Principles: The Problem with Static Prompts</div></div></foreignObject></g><g data-depth="3" data-path="1.2.9" class="markmap-node" transform="translate(804, -3257.10546875)"><line stroke="#bcbd22" stroke-width="1.375" x1="-1" x2="313" y1="20.6875" y2="20.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="295" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Core Principle: Context-Driven Instruction</div></div></foreignObject></g><g data-depth="4" data-path="1.2.10.11" class="markmap-node" transform="translate(1061, -3219.37109375)"><line stroke="#1f77b4" stroke-width="1.1875" x1="-1" x2="843" y1="87.59375" y2="87.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="825" height="87"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><pre data-lines="34,40"><code data-lines="34,40">+-----------------------+      +-------------------+      +------------------------+      +-----+
|<span class="hljs-string"> Conversation History  </span>|<span class="hljs-string"> ---&gt; </span>|<span class="hljs-string">  Context Analysis </span>|<span class="hljs-string"> ---&gt; </span>|<span class="hljs-string"> Instruction Generation </span>|<span class="hljs-string"> ---&gt; </span>|<span class="hljs-string"> LLM </span>|
|<span class="hljs-string"> (Recent Turns)        </span>|<span class="hljs-string">      </span>|<span class="hljs-string"> (ContextVector)   </span>|<span class="hljs-string">      </span>|<span class="hljs-string"> (Strategy + Customize) </span>|<span class="hljs-string">      </span>|<span class="hljs-string">     </span>|
+-----------------------+      +-------------------+      +------------------------+      +-----+
</code></pre></div></div></foreignObject></g><g data-depth="3" data-path="1.2.10" class="markmap-node" transform="translate(804, -3185.87109375)"><line stroke="#17becf" stroke-width="1.375" x1="-1" x2="179" y1="20.6875" y2="20.6875"/><circle stroke-width="1.5" r="6" stroke="#17becf" fill="var(--markmap-circle-open-bg)" cx="177" cy="20.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="161" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Core Idea &amp; Approach</div></div></foreignObject></g><g data-depth="4" data-path="1.2.12.13" class="markmap-node" transform="translate(1083, -3121.18359375)"><line stroke="#2ca02c" stroke-width="1.1875" x1="-1" x2="1399" y1="20.59375" y2="20.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1381" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Audience:</strong> Developers using or extending the AI Battle framework, researchers interested in advanced conversational AI techniques, users seeking to understand how conversations are guided.</div></div></foreignObject></g><g data-depth="4" data-path="1.2.12.14" class="markmap-node" transform="translate(1083, -3094.99609375)"><line stroke="#d62728" stroke-width="1.1875" x1="-1" x2="1469" y1="20.59375" y2="20.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1451" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Scope:</strong> This document covers the conceptual foundations ("Why"), implementation details ("How"), practical usage guidelines, customization options, and testing related to the Adaptive Instruction System.</div></div></foreignObject></g><g data-depth="3" data-path="1.2.12" class="markmap-node" transform="translate(804, -3108.08984375)"><line stroke="#ff7f0e" stroke-width="1.375" x1="-1" x2="201" y1="20.6875" y2="20.6875"/><circle stroke-width="1.5" r="6" stroke="#ff7f0e" fill="var(--markmap-circle-open-bg)" cx="199" cy="20.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="183" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Target Audience &amp; Scope</div></div></foreignObject></g><g data-depth="2" data-path="1.2" class="markmap-node" transform="translate(380, -3212.15234375)"><line stroke="#ff7f0e" stroke-width="1.75" x1="-1" x2="346" y1="20.875" y2="20.875"/><circle stroke-width="1.5" r="6" stroke="#ff7f0e" fill="var(--markmap-circle-open-bg)" cx="344" cy="20.875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="328" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">1. Introduction &amp; First Principles (Why &amp; What)</div></div></foreignObject></g><g data-depth="3" data-path="1.15.16" class="markmap-node" transform="translate(847, -3063.80859375)"><line stroke="#8c564b" stroke-width="1.375" x1="-1" x2="1217" y1="169.6875" y2="169.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1199" height="169"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><table data-lines="50,59">
<thead data-lines="50,51">
<tr data-lines="50,51">
<th style="text-align:left">Feature</th>
<th style="text-align:left">Standard Prompting</th>
<th style="text-align:left">Adaptive Instruction System</th>
</tr>
</thead>
<tbody data-lines="52,59">
<tr data-lines="52,53">
<td style="text-align:left"><strong>Instruction Timing</strong></td>
<td style="text-align:left">Typically static, set once at the start.</td>
<td style="text-align:left">Dynamic, generated fresh for each LLM turn.</td>
</tr>
<tr data-lines="53,54">
<td style="text-align:left"><strong>Context Sensitivity</strong></td>
<td style="text-align:left">Low; instructions don't change based on dialogue.</td>
<td style="text-align:left">High; instructions directly influenced by context.</td>
</tr>
<tr data-lines="54,55">
<td style="text-align:left"><strong>Adaptability</strong></td>
<td style="text-align:left">None; cannot react to conversation dynamics.</td>
<td style="text-align:left">High; adapts strategy based on coherence, complexity, etc.</td>
</tr>
<tr data-lines="55,56">
<td style="text-align:left"><strong>Behavioral Control</strong></td>
<td style="text-align:left">Relies on LLM interpretation; consistency varies.</td>
<td style="text-align:left">Explicit behavioral guidance; more consistent shaping.</td>
</tr>
<tr data-lines="56,57">
<td style="text-align:left"><strong>Goal Focus</strong></td>
<td style="text-align:left">Can drift; LLMs might discuss instead of execute.</td>
<td style="text-align:left">Specific strategies (e.g., goal-oriented) force action.</td>
</tr>
<tr data-lines="57,58">
<td style="text-align:left"><strong>Complexity</strong></td>
<td style="text-align:left">Simpler to implement initially.</td>
<td style="text-align:left">More complex, involves analysis and logic layers.</td>
</tr>
<tr data-lines="58,59">
<td style="text-align:left"><strong>Effectiveness</strong></td>
<td style="text-align:left">Can be effective for simple tasks; less so for long/complex dialogues.</td>
<td style="text-align:left">Aims for higher quality, coherence, and goal attainment in complex dialogues.</td>
</tr>
</tbody>
</table></div></div></foreignObject></g><g data-depth="2" data-path="1.15" class="markmap-node" transform="translate(380, -2989.30859375)"><line stroke="#9467bd" stroke-width="1.75" x1="-1" x2="389" y1="20.875" y2="20.875"/><circle stroke-width="1.5" r="6" stroke="#9467bd" fill="var(--markmap-circle-open-bg)" cx="387" cy="20.875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="371" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">2. Comparison with Standard Prompting Techniques</div></div></foreignObject></g><g data-depth="4" data-path="1.17.18.19" class="markmap-node" transform="translate(1109, -2883.43359375)"><line stroke="#bcbd22" stroke-width="1.1875" x1="-1" x2="1387" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1369" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong><code>AdaptiveInstructionManager</code> (<code>adaptive_instructions.py</code>):</strong> The central orchestrator. It receives requests to generate instructions and coordinates the analysis, selection, and customization process.</div></div></foreignObject></g><g data-depth="4" data-path="1.17.18.20" class="markmap-node" transform="translate(1109, -2855.24609375)"><line stroke="#17becf" stroke-width="1.1875" x1="-1" x2="899" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="881" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong><code>ContextAnalyzer</code> (<code>context_analysis.py</code>):</strong> Responsible for analyzing the conversation history and producing the <code>ContextVector</code>.</div></div></foreignObject></g><g data-depth="4" data-path="1.17.18.21" class="markmap-node" transform="translate(1109, -2827.05859375)"><line stroke="#1f77b4" stroke-width="1.1875" x1="-1" x2="841" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="823" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong><code>ContextVector</code> (<code>context_analysis.py</code>):</strong> A dataclass holding the quantitative metrics derived from the context analysis.</div></div></foreignObject></g><g data-depth="4" data-path="1.17.18.22" class="markmap-node" transform="translate(1109, -2798.87109375)"><line stroke="#ff7f0e" stroke-width="1.1875" x1="-1" x2="976" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="958" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong><code>InstructionTemplates</code> (<code>shared_resources.py</code>):</strong> A singleton class holding the base string templates for different conversational strategies.</div></div></foreignObject></g><g data-depth="4" data-path="1.17.18.23" class="markmap-node" transform="translate(1109, -2770.68359375)"><line stroke="#2ca02c" stroke-width="1.1875" x1="-1" x2="1065" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1047" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong><code>ConversationManager</code> (<code>ai-battle.py</code>):</strong> The main class managing the overall conversation flow. It calls the <code>AdaptiveInstructionManager</code> before each turn.</div></div></foreignObject></g><g data-depth="4" data-path="1.17.18.24" class="markmap-node" transform="translate(1109, -2742.49609375)"><line stroke="#d62728" stroke-width="1.1875" x1="-1" x2="1641" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1623" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong><code>ModelClient</code> (e.g., <code>ClaudeClient</code>, <code>GeminiClient</code> in <code>model_clients.py</code>):</strong> The client responsible for interacting with the actual LLM API. It receives the final instruction string from the <code>AdaptiveInstructionManager</code> (via <code>ConversationManager</code>).</div></div></foreignObject></g><g data-depth="3" data-path="1.17.18" class="markmap-node" transform="translate(859, -2811.96484375)"><line stroke="#7f7f7f" stroke-width="1.375" x1="-1" x2="172" y1="20.6875" y2="20.6875"/><circle stroke-width="1.5" r="6" stroke="#7f7f7f" fill="var(--markmap-circle-open-bg)" cx="170" cy="20.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="154" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Component Overview</div></div></foreignObject></g><g data-depth="4" data-path="1.17.25.26" class="markmap-node" transform="translate(1111, -2709.30859375)"><line stroke="#8c564b" stroke-width="1.1875" x1="-1" x2="598" y1="347.59375" y2="347.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="580" height="347"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><pre data-lines="85,104"><code data-lines="85,104">+-------------------------+         +--------------------------+
|<span class="hljs-string">   ConversationManager   </span>|<span class="hljs-string"> ------&gt; </span>|<span class="hljs-string">  AdaptiveInstructionMgr  </span>|
|<span class="hljs-string">    (ai-battle.py)       </span>|<span class="hljs-string">         </span>|<span class="hljs-string"> (adaptive_instructions.py)</span>|
+-------------------------+         +-------------+------------+
          |<span class="hljs-string">                                       </span>|<span class="hljs-string"> Calls
          </span>|<span class="hljs-string"> Uses Instructions                     </span>|<span class="hljs-string"> Uses Context
          V                                       V
+-------------------------+         +--------------------------+
</span>|<span class="hljs-string">      ModelClient        </span>|<span class="hljs-string"> &lt;------ </span>|<span class="hljs-string">      ContextAnalyzer     </span>|
|<span class="hljs-string">  (model_clients.py)     </span>|<span class="hljs-string">         </span>|<span class="hljs-string">   (context_analysis.py)  </span>|
+-------------------------+         +-------------+------------+
                                                  |<span class="hljs-string"> Reads Templates
                                                  V
                                        +--------------------------+
                                        </span>|<span class="hljs-string">   InstructionTemplates   </span>|
                                        |<span class="hljs-string">  (shared_resources.py)   </span>|
                                        +--------------------------+
</code></pre></div></div></foreignObject></g><g data-depth="3" data-path="1.17.25" class="markmap-node" transform="translate(859, -2545.80859375)"><line stroke="#9467bd" stroke-width="1.375" x1="-1" x2="174" y1="20.6875" y2="20.6875"/><circle stroke-width="1.5" r="6" stroke="#9467bd" fill="var(--markmap-circle-open-bg)" cx="172" cy="20.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="156" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Architectural Diagram</div></div></foreignObject></g><g data-depth="4" data-path="1.17.27.28" class="markmap-node" transform="translate(1393, -2351.12109375)"><line stroke="#7f7f7f" stroke-width="1.1875" x1="-1" x2="834" y1="447.59375" y2="447.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="816" height="447"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><pre data-lines="109,133"><code class="language-mermaid">sequenceDiagram
    participant CM as ConversationManager
    participant AIM as AdaptiveInstructionManager
    participant CA as ContextAnalyzer
    participant IT as InstructionTemplates
    participant MC as ModelClient

    CM-&gt;&gt;AIM: generate_instructions(history, domain, mode, role)
    Note over AIM: Receive request with history, topic, mode, role
    AIM-&gt;&gt;CA: analyze(history)
    Note over CA: Calculate metrics (coherence, topics, etc.)
    CA--&gt;&gt;AIM: return context_vector
    AIM-&gt;&gt;IT: get_templates()
    IT--&gt;&gt;AIM: return base_templates
    AIM-&gt;&gt;AIM: _select_template(context_vector, mode, domain)
    Note over AIM: Choose base strategy (e.g., exploratory, goal_oriented) based on context/goal
    AIM--&gt;&gt;AIM: selected_template
    AIM-&gt;&gt;AIM: _customize_template(selected_template, context_vector, domain, mode, role)
    Note over AIM: Augment template with behavioral guidance, context tuning, formatting
    AIM--&gt;&gt;CM: return final_instruction_string
    CM-&gt;&gt;MC: generate_response(prompt, final_instruction_string, ...)
    Note over MC: Use the generated instruction as system prompt for LLM call
</code></pre></div></div></foreignObject></g><g data-depth="3" data-path="1.17.27" class="markmap-node" transform="translate(859, -2137.62109375)"><line stroke="#e377c2" stroke-width="1.375" x1="-1" x2="456" y1="20.6875" y2="20.6875"/><circle stroke-width="1.5" r="6" stroke="#e377c2" fill="var(--markmap-circle-open-bg)" cx="454" cy="20.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="438" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Core Workflow Sequence (Single Turn Instruction Generation)</div></div></foreignObject></g><g data-depth="2" data-path="1.17" class="markmap-node" transform="translate(380, -2474.79296875)"><line stroke="#e377c2" stroke-width="1.75" x1="-1" x2="401" y1="20.875" y2="20.875"/><circle stroke-width="1.5" r="6" stroke="#e377c2" fill="var(--markmap-circle-open-bg)" cx="399" cy="20.875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="383" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">3. System Architecture &amp; Workflow (How - High Level)</div></div></foreignObject></g><g data-depth="4" data-path="1.29.30.31" class="markmap-node" transform="translate(1120, -1892.93359375)"><line stroke="#1f77b4" stroke-width="1.1875" x1="-1" x2="623" y1="227.59375" y2="227.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="605" height="227"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><pre data-lines="144,157"><code class="language-python"><span class="hljs-meta">@dataclass</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ContextVector</span>:
    semantic_coherence: <span class="hljs-built_in">float</span> = <span class="hljs-number">0.0</span>
    topic_evolution: <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-built_in">float</span>] = field(default_factory=<span class="hljs-built_in">dict</span>)
    response_patterns: <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-built_in">float</span>] = field(default_factory=<span class="hljs-built_in">dict</span>)
    engagement_metrics: <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-built_in">float</span>] = field(default_factory=<span class="hljs-built_in">dict</span>)
    cognitive_load: <span class="hljs-built_in">float</span> = <span class="hljs-number">0.0</span>
    knowledge_depth: <span class="hljs-built_in">float</span> = <span class="hljs-number">0.0</span>
    reasoning_patterns: <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-built_in">float</span>] = field(default_factory=<span class="hljs-built_in">dict</span>)
    uncertainty_markers: <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-built_in">float</span>] = field(default_factory=<span class="hljs-built_in">dict</span>)
    domain_info: <span class="hljs-built_in">str</span> = <span class="hljs-string">""</span> <span class="hljs-comment"># Added during instruction generation</span>
</code></pre></div></div></foreignObject></g><g data-depth="3" data-path="1.29.30" class="markmap-node" transform="translate(822, -1790.43359375)"><line stroke="#17becf" stroke-width="1.375" x1="-1" x2="220" y1="22.6875" y2="22.6875"/><circle stroke-width="1.5" r="6" stroke="#17becf" fill="var(--markmap-circle-open-bg)" cx="218" cy="22.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="202" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">The <code>ContextVector</code> Dataclass</div></div></foreignObject></g><g data-depth="5" data-path="1.29.32.33.34" class="markmap-node" transform="translate(1289, -1654.74609375)"><line stroke="#d62728" stroke-width="1.09375" x1="-1" x2="1462" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1444" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Why:</strong> Measures how well consecutive messages relate to each other, indicating topic focus and logical flow. A low score suggests the conversation might be drifting, becoming disjointed, or losing focus.</div></div></foreignObject></g><g data-depth="5" data-path="1.29.32.33.35" class="markmap-node" transform="translate(1289, -1628.65234375)"><line stroke="#9467bd" stroke-width="1.09375" x1="-1" x2="2007" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1989" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>How:</strong> Calculates the TF-IDF (Term Frequency-Inverse Document Frequency) vectors for the content of the last few messages. Then, it computes the mean cosine similarity between adjacent message vectors. A higher similarity indicates better coherence. The result is normalized.</div></div></foreignObject></g><g data-depth="5" data-path="1.29.32.33.36" class="markmap-node" transform="translate(1289, -1602.55859375)"><line stroke="#8c564b" stroke-width="1.09375" x1="-1" x2="767" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="749" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Impact:</strong> A low coherence score might trigger the selection of the <code>structured</code> template to bring focus back.</div></div></foreignObject></g><g data-depth="4" data-path="1.29.32.33" class="markmap-node" transform="translate(1047, -1628.65234375)"><line stroke="#2ca02c" stroke-width="1.1875" x1="-1" x2="164" y1="22.59375" y2="22.59375"/><circle stroke-width="1.5" r="6" stroke="#2ca02c" fill="var(--markmap-circle-open-bg)" cx="162" cy="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="146" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">
<p data-lines="162,163"><strong><code>semantic_coherence</code></strong></p></div></div></foreignObject></g><g data-depth="5" data-path="1.29.32.37.38" class="markmap-node" transform="translate(1253, -1569.46484375)"><line stroke="#7f7f7f" stroke-width="1.09375" x1="-1" x2="1256" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1238" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Why:</strong> Tracks the main subjects being discussed and their relative prominence. Helps understand if the conversation is staying on the intended domain or shifting significantly.</div></div></foreignObject></g><g data-depth="5" data-path="1.29.32.37.39" class="markmap-node" transform="translate(1253, -1543.37109375)"><line stroke="#bcbd22" stroke-width="1.09375" x1="-1" x2="2217" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="2199" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>How:</strong> Uses spaCy's noun chunking (if spaCy model is available and loaded) to identify key topics (nouns/noun phrases) in recent messages. If spaCy is unavailable, it falls back to simple word frequency analysis (counting non-numeric words longer than 3 characters). Counts are normalized into frequencies.</div></div></foreignObject></g><g data-depth="5" data-path="1.29.32.37.40" class="markmap-node" transform="translate(1253, -1517.27734375)"><line stroke="#17becf" stroke-width="1.09375" x1="-1" x2="2002" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1984" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Impact:</strong> While not directly used for template selection in the current logic, this provides valuable debugging information and could be used for more advanced topic steering in the future. It also plays a role in detecting the <code>GOAL:</code> keyword if it appears within the message content.</div></div></foreignObject></g><g data-depth="4" data-path="1.29.32.37" class="markmap-node" transform="translate(1047, -1543.37109375)"><line stroke="#e377c2" stroke-width="1.1875" x1="-1" x2="128" y1="22.59375" y2="22.59375"/><circle stroke-width="1.5" r="6" stroke="#e377c2" fill="var(--markmap-circle-open-bg)" cx="126" cy="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="110" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">
<p data-lines="167,168"><strong><code>topic_evolution</code></strong></p></div></div></foreignObject></g><g data-depth="5" data-path="1.29.32.41.42" class="markmap-node" transform="translate(1275, -1484.18359375)"><line stroke="#ff7f0e" stroke-width="1.09375" x1="-1" x2="1205" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1187" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Why:</strong> Identifies the prevalence of different interaction styles (e.g., asking questions, challenging points, agreeing). This helps characterize the conversational dynamic.</div></div></foreignObject></g><g data-depth="5" data-path="1.29.32.41.43" class="markmap-node" transform="translate(1275, -1458.08984375)"><line stroke="#2ca02c" stroke-width="1.09375" x1="-1" x2="1302" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1284" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>How:</strong> Uses simple keyword and punctuation counting across the history (e.g., counting "?", "however", "but", "agree", "yes"). Counts are normalized by the total number of messages.</div></div></foreignObject></g><g data-depth="5" data-path="1.29.32.41.44" class="markmap-node" transform="translate(1275, -1431.99609375)"><line stroke="#d62728" stroke-width="1.09375" x1="-1" x2="967" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="949" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Impact:</strong> Can inform fine-grained adjustments in the customization phase, although not heavily used for major strategy shifts currently.</div></div></foreignObject></g><g data-depth="4" data-path="1.29.32.41" class="markmap-node" transform="translate(1047, -1459.08984375)"><line stroke="#1f77b4" stroke-width="1.1875" x1="-1" x2="150" y1="22.59375" y2="22.59375"/><circle stroke-width="1.5" r="6" stroke="#1f77b4" fill="var(--markmap-circle-open-bg)" cx="148" cy="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="132" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">
<p data-lines="172,173"><strong><code>response_patterns</code></strong></p></div></div></foreignObject></g><g data-depth="5" data-path="1.29.32.45.46" class="markmap-node" transform="translate(1290, -1400.90234375)"><line stroke="#8c564b" stroke-width="1.09375" x1="-1" x2="417" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="399" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Why:</strong> Assesses the quality and balance of participation.</div></div></foreignObject></g><g data-depth="5" data-path="1.29.32.45.47" class="markmap-node" transform="translate(1290, -1374.80859375)"><line stroke="#e377c2" stroke-width="1.09375" x1="-1" x2="1190" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1172" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>How:</strong> Calculates the average response length (in words) across the history. It also computes the turn-taking balance (ratio of user/human turns to assistant/AI turns).</div></div></foreignObject></g><g data-depth="5" data-path="1.29.32.45.48" class="markmap-node" transform="translate(1290, -1348.71484375)"><line stroke="#7f7f7f" stroke-width="1.09375" x1="-1" x2="1140" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1122" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Impact:</strong> A low <code>turn_taking_balance</code> (indicating one participant is dominating) might trigger a guideline like "Ask more follow-up questions" during customization.</div></div></foreignObject></g><g data-depth="4" data-path="1.29.32.45" class="markmap-node" transform="translate(1047, -1374.80859375)"><line stroke="#9467bd" stroke-width="1.1875" x1="-1" x2="165" y1="22.59375" y2="22.59375"/><circle stroke-width="1.5" r="6" stroke="#9467bd" fill="var(--markmap-circle-open-bg)" cx="163" cy="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="147" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">
<p data-lines="177,178"><strong><code>engagement_metrics</code></strong></p></div></div></foreignObject></g><g data-depth="5" data-path="1.29.32.49.50" class="markmap-node" transform="translate(1248, -1315.62109375)"><line stroke="#17becf" stroke-width="1.09375" x1="-1" x2="1415" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1397" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Why:</strong> Estimates the complexity of the current discussion. A very high load might indicate the conversation is becoming too dense or difficult to follow, potentially requiring simplification or synthesis.</div></div></foreignObject></g><g data-depth="5" data-path="1.29.32.49.51" class="markmap-node" transform="translate(1248, -1289.52734375)"><line stroke="#1f77b4" stroke-width="1.09375" x1="-1" x2="2138" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="2120" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>How:</strong> Combines several factors from recent messages: average sentence length, vocabulary complexity (ratio of unique words to total words), and the frequency of specific technical keywords (e.g., "algorithm", "framework"). It uses spaCy for more accurate sentence and token analysis if available.</div></div></foreignObject></g><g data-depth="5" data-path="1.29.32.49.52" class="markmap-node" transform="translate(1248, -1263.43359375)"><line stroke="#ff7f0e" stroke-width="1.09375" x1="-1" x2="935" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="917" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Impact:</strong> A high cognitive load score (<code>&gt; 0.8</code>) can trigger the selection of the <code>synthesis</code> template, aiming to consolidate information.</div></div></foreignObject></g><g data-depth="4" data-path="1.29.32.49" class="markmap-node" transform="translate(1047, -1289.52734375)"><line stroke="#bcbd22" stroke-width="1.1875" x1="-1" x2="123" y1="22.59375" y2="22.59375"/><circle stroke-width="1.5" r="6" stroke="#bcbd22" fill="var(--markmap-circle-open-bg)" cx="121" cy="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="105" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">
<p data-lines="182,183"><strong><code>cognitive_load</code></strong></p></div></div></foreignObject></g><g data-depth="5" data-path="1.29.32.53.54" class="markmap-node" transform="translate(1268, -1230.33984375)"><line stroke="#d62728" stroke-width="1.09375" x1="-1" x2="1443" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1425" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Why:</strong> Gauges the level of detail, specificity, and domain understanding demonstrated in the conversation. High depth suggests a sophisticated discussion, potentially suitable for more critical analysis.</div></div></foreignObject></g><g data-depth="5" data-path="1.29.32.53.55" class="markmap-node" transform="translate(1268, -1204.24609375)"><line stroke="#9467bd" stroke-width="1.09375" x1="-1" x2="2624" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="2606" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>How:</strong> Combines factors from recent messages: density of technical terms (identified via spaCy POS tags like NOUN/PROPN, or fallback to capitalized words/keyword lists), frequency of explanation patterns (e.g., "because", "means that"), references to abstract concepts (e.g., "theory", "principle"), and use of interconnection markers (e.g., "related to", "depends on").</div></div></foreignObject></g><g data-depth="5" data-path="1.29.32.53.56" class="markmap-node" transform="translate(1268, -1178.15234375)"><line stroke="#8c564b" stroke-width="1.09375" x1="-1" x2="856" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="838" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Impact:</strong> High knowledge depth (<code>&gt; 0.8</code>) can trigger the selection of the <code>critical</code> template to encourage deeper scrutiny.</div></div></foreignObject></g><g data-depth="4" data-path="1.29.32.53" class="markmap-node" transform="translate(1047, -1204.24609375)"><line stroke="#2ca02c" stroke-width="1.1875" x1="-1" x2="143" y1="22.59375" y2="22.59375"/><circle stroke-width="1.5" r="6" stroke="#2ca02c" fill="var(--markmap-circle-open-bg)" cx="141" cy="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="125" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">
<p data-lines="187,188"><strong><code>knowledge_depth</code></strong></p></div></div></foreignObject></g><g data-depth="5" data-path="1.29.32.57.58" class="markmap-node" transform="translate(1280, -1145.05859375)"><line stroke="#7f7f7f" stroke-width="1.09375" x1="-1" x2="1627" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1609" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Why:</strong> Detects the types of logical reasoning being employed (or keywords associated with them). This can help understand the analytical style of the conversation and guide instructions towards desired reasoning approaches.</div></div></foreignObject></g><g data-depth="5" data-path="1.29.32.57.59" class="markmap-node" transform="translate(1280, -1118.96484375)"><line stroke="#bcbd22" stroke-width="1.09375" x1="-1" x2="2397" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="2379" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>How:</strong> Uses regex matching to count keywords associated with different reasoning types (deductive: "therefore", inductive: "generally", abductive: "most likely", analogical: "similar to", causal: "because"). In <code>ai-ai</code> mode, it also counts patterns related to formal logic, systematic approaches, and technical precision. Counts are normalized.</div></div></foreignObject></g><g data-depth="5" data-path="1.29.32.57.60" class="markmap-node" transform="translate(1280, -1090.87109375)"><line stroke="#17becf" stroke-width="1.09375" x1="-1" x2="1734" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1716" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Impact:</strong> Specific reasoning pattern scores (e.g., low <code>deductive</code> or low <code>formal_logic</code> in <code>ai-ai</code> mode) can trigger corresponding guidelines during instruction customization (e.g., "Encourage logical reasoning", "Use more formal logical structures").</div></div></foreignObject></g><g data-depth="4" data-path="1.29.32.57" class="markmap-node" transform="translate(1047, -1117.96484375)"><line stroke="#e377c2" stroke-width="1.1875" x1="-1" x2="155" y1="22.59375" y2="22.59375"/><circle stroke-width="1.5" r="6" stroke="#e377c2" fill="var(--markmap-circle-open-bg)" cx="153" cy="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="137" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">
<p data-lines="192,193"><strong><code>reasoning_patterns</code></strong></p></div></div></foreignObject></g><g data-depth="5" data-path="1.29.32.61.62" class="markmap-node" transform="translate(1288, -1057.77734375)"><line stroke="#ff7f0e" stroke-width="1.09375" x1="-1" x2="1020" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1002" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Why:</strong> Assesses the expressed confidence or doubt in the conversation. High uncertainty might indicate a need for clarification or grounding.</div></div></foreignObject></g><g data-depth="5" data-path="1.29.32.61.63" class="markmap-node" transform="translate(1288, -1031.68359375)"><line stroke="#2ca02c" stroke-width="1.09375" x1="-1" x2="1456" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1438" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>How:</strong> Uses regex matching to count keywords indicating confidence ("definitely", "clearly"), uncertainty ("maybe", "could", "unsure"), qualification ("however", "possibly"), and Socratic questioning patterns.</div></div></foreignObject></g><g data-depth="5" data-path="1.29.32.61.64" class="markmap-node" transform="translate(1288, -1005.58984375)"><line stroke="#d62728" stroke-width="1.09375" x1="-1" x2="949" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="931" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Impact:</strong> High uncertainty (<code>&gt; 0.6</code>) can trigger a guideline like "Request specific clarification on unclear points" during customization.</div></div></foreignObject></g><g data-depth="4" data-path="1.29.32.61" class="markmap-node" transform="translate(1047, -1031.68359375)"><line stroke="#1f77b4" stroke-width="1.1875" x1="-1" x2="163" y1="22.59375" y2="22.59375"/><circle stroke-width="1.5" r="6" stroke="#1f77b4" fill="var(--markmap-circle-open-bg)" cx="161" cy="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="145" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">
<p data-lines="197,198"><strong><code>uncertainty_markers</code></strong></p></div></div></foreignObject></g><g data-depth="3" data-path="1.29.32" class="markmap-node" transform="translate(822, -1329.16796875)"><line stroke="#ff7f0e" stroke-width="1.375" x1="-1" x2="147" y1="20.6875" y2="20.6875"/><circle stroke-width="1.5" r="6" stroke="#ff7f0e" fill="var(--markmap-circle-open-bg)" cx="145" cy="20.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="129" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Metric Breakdown</div></div></foreignObject></g><g data-depth="3" data-path="1.29.65" class="markmap-node" transform="translate(822, -998.49609375)"><line stroke="#9467bd" stroke-width="1.375" x1="-1" x2="158" y1="20.6875" y2="20.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="140" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Summary of Impact</div></div></foreignObject></g><g data-depth="2" data-path="1.29" class="markmap-node" transform="translate(380, -1395.46484375)"><line stroke="#bcbd22" stroke-width="1.75" x1="-1" x2="364" y1="22.875" y2="22.875"/><circle stroke-width="1.5" r="6" stroke="#bcbd22" fill="var(--markmap-circle-open-bg)" cx="362" cy="22.875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="346" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">4. Deep Dive: Context Analysis (<code>ContextAnalyzer</code>)</div></div></foreignObject></g><g data-depth="4" data-path="1.66.67.68" class="markmap-node" transform="translate(1304, -972.49609375)"><line stroke="#7f7f7f" stroke-width="1.1875" x1="-1" x2="338" y1="20.59375" y2="20.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="320" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">1. The overall conversational goal or domain.</div></div></foreignObject></g><g data-depth="4" data-path="1.66.67.69" class="markmap-node" transform="translate(1304, -946.30859375)"><line stroke="#bcbd22" stroke-width="1.1875" x1="-1" x2="507" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="489" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">2. The desired interaction mode (<code>human-ai</code>, <code>ai-ai</code>, <code>no-meta-prompting</code>).</div></div></foreignObject></g><g data-depth="4" data-path="1.66.67.70" class="markmap-node" transform="translate(1304, -918.12109375)"><line stroke="#17becf" stroke-width="1.1875" x1="-1" x2="497" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="479" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">3. The role of the LLM in the current turn (<code>human</code>/<code>user</code> or <code>assistant</code>).</div></div></foreignObject></g><g data-depth="4" data-path="1.66.67.71" class="markmap-node" transform="translate(1304, -889.93359375)"><line stroke="#1f77b4" stroke-width="1.1875" x1="-1" x2="545" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="527" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">4. The specific state of the conversation as captured by the <code>ContextVector</code>.</div></div></foreignObject></g><g data-depth="3" data-path="1.66.67" class="markmap-node" transform="translate(1102, -930.21484375)"><line stroke="#e377c2" stroke-width="1.375" x1="-1" x2="124" y1="20.6875" y2="20.6875"/><circle stroke-width="1.5" r="6" stroke="#e377c2" fill="var(--markmap-circle-open-bg)" cx="122" cy="20.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="106" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Purpose (Why)</div></div></foreignObject></g><g data-depth="5" data-path="1.66.72.73.74" class="markmap-node" transform="translate(1713, -856.74609375)"><line stroke="#d62728" stroke-width="1.09375" x1="-1" x2="1242" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1224" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Philosophy:</em> Encourage broad understanding, discovery of key concepts, open-ended questions. Suitable for the beginning of conversations or when exploring a new topic.</div></div></foreignObject></g><g data-depth="5" data-path="1.66.72.73.75" class="markmap-node" transform="translate(1713, -830.65234375)"><line stroke="#9467bd" stroke-width="1.09375" x1="-1" x2="908" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="890" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Trigger:</em> Default choice if no other specific conditions are met, especially early in the conversation (low <code>topic_evolution</code> length).</div></div></foreignObject></g><g data-depth="4" data-path="1.66.72.73" class="markmap-node" transform="translate(1399, -843.69921875)"><line stroke="#2ca02c" stroke-width="1.1875" x1="-1" x2="236" y1="22.59375" y2="22.59375"/><circle stroke-width="1.5" r="6" stroke="#2ca02c" fill="var(--markmap-circle-open-bg)" cx="234" cy="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="218" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong><code>exploratory</code> / <code>ai-ai-exploratory</code>:</strong></div></div></foreignObject></g><g data-depth="5" data-path="1.66.72.76.77" class="markmap-node" transform="translate(1651, -797.55859375)"><line stroke="#e377c2" stroke-width="1.09375" x1="-1" x2="1246" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1228" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Philosophy:</em> Encourage challenging assumptions, requesting evidence, pointing out inconsistencies, demanding clarification. Suitable for deep dives into established topics.</div></div></foreignObject></g><g data-depth="5" data-path="1.66.72.76.78" class="markmap-node" transform="translate(1651, -771.46484375)"><line stroke="#7f7f7f" stroke-width="1.09375" x1="-1" x2="337" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="319" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Trigger:</em> High <code>knowledge_depth</code> score (<code>&gt; 0.8</code>).</div></div></foreignObject></g><g data-depth="4" data-path="1.66.72.76" class="markmap-node" transform="translate(1399, -784.51171875)"><line stroke="#8c564b" stroke-width="1.1875" x1="-1" x2="174" y1="22.59375" y2="22.59375"/><circle stroke-width="1.5" r="6" stroke="#8c564b" fill="var(--markmap-circle-open-bg)" cx="172" cy="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="156" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong><code>critical</code> / <code>ai-ai-critical</code>:</strong></div></div></foreignObject></g><g data-depth="5" data-path="1.66.72.79.80" class="markmap-node" transform="translate(1699, -738.37109375)"><line stroke="#17becf" stroke-width="1.09375" x1="-1" x2="960" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="942" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Philosophy:</em> Encourage systematic analysis, breaking down topics, requesting specific examples. Useful for bringing focus or clarity.</div></div></foreignObject></g><g data-depth="5" data-path="1.66.72.79.81" class="markmap-node" transform="translate(1699, -712.27734375)"><line stroke="#1f77b4" stroke-width="1.09375" x1="-1" x2="351" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="333" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Trigger:</em> Low <code>semantic_coherence</code> score (<code>&lt; 0.5</code>).</div></div></foreignObject></g><g data-depth="4" data-path="1.66.72.79" class="markmap-node" transform="translate(1399, -725.32421875)"><line stroke="#bcbd22" stroke-width="1.1875" x1="-1" x2="222" y1="22.59375" y2="22.59375"/><circle stroke-width="1.5" r="6" stroke="#bcbd22" fill="var(--markmap-circle-open-bg)" cx="220" cy="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="204" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong><code>structured</code> / <code>ai-ai-structured</code>:</strong></div></div></foreignObject></g><g data-depth="5" data-path="1.66.72.82.83" class="markmap-node" transform="translate(1690, -679.18359375)"><line stroke="#2ca02c" stroke-width="1.09375" x1="-1" x2="1136" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1118" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Philosophy:</em> Encourage connecting concepts, identifying patterns, building a coherent overall understanding. Useful when the discussion becomes complex.</div></div></foreignObject></g><g data-depth="5" data-path="1.66.72.82.84" class="markmap-node" transform="translate(1690, -653.08984375)"><line stroke="#d62728" stroke-width="1.09375" x1="-1" x2="315" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="297" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Trigger:</em> High <code>cognitive_load</code> score (<code>&gt; 0.8</code>).</div></div></foreignObject></g><g data-depth="4" data-path="1.66.72.82" class="markmap-node" transform="translate(1399, -666.13671875)"><line stroke="#ff7f0e" stroke-width="1.1875" x1="-1" x2="213" y1="22.59375" y2="22.59375"/><circle stroke-width="1.5" r="6" stroke="#ff7f0e" fill="var(--markmap-circle-open-bg)" cx="211" cy="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="195" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong><code>synthesis</code> / <code>ai-ai-synthesis</code>:</strong></div></div></foreignObject></g><g data-depth="5" data-path="1.66.72.85.86" class="markmap-node" transform="translate(1687, -619.99609375)"><line stroke="#8c564b" stroke-width="1.09375" x1="-1" x2="1478" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1460" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Philosophy:</em> Forcefully prioritize concrete task execution over discussion. Directly instructs the LLM to <em>produce the output</em> (e.g., write the story, generate the code) immediately, minimizing meta-commentary.</div></div></foreignObject></g><g data-depth="5" data-path="1.66.72.85.87" class="markmap-node" transform="translate(1687, -593.90234375)"><line stroke="#e377c2" stroke-width="1.09375" x1="-1" x2="1289" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1271" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Trigger:</em> Detection of <code>GOAL:</code> (case-insensitive) in the <code>domain</code> parameter or within the <code>topic_evolution</code> context. This template takes precedence over context-metric-based selections.</div></div></foreignObject></g><g data-depth="4" data-path="1.66.72.85" class="markmap-node" transform="translate(1399, -606.94921875)"><line stroke="#9467bd" stroke-width="1.1875" x1="-1" x2="210" y1="22.59375" y2="22.59375"/><circle stroke-width="1.5" r="6" stroke="#9467bd" fill="var(--markmap-circle-open-bg)" cx="208" cy="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="192" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong><code>goal_oriented_instructions</code>:</strong></div></div></foreignObject></g><g data-depth="3" data-path="1.66.72" class="markmap-node" transform="translate(1102, -724.32421875)"><line stroke="#ff7f0e" stroke-width="1.375" x1="-1" x2="219" y1="20.6875" y2="20.6875"/><circle stroke-width="1.5" r="6" stroke="#ff7f0e" fill="var(--markmap-circle-open-bg)" cx="217" cy="20.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="201" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Base Strategies (Templates)</div></div></foreignObject></g><g data-depth="5" data-path="1.66.88.89.90" class="markmap-node" transform="translate(1975, -560.80859375)"><line stroke="#17becf" stroke-width="1.09375" x1="-1" x2="858" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="840" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>How:</em> The selected template string is formatted, primarily inserting the specific <code>{domain}</code> provided for the conversation.</div></div></foreignObject></g><g data-depth="5" data-path="1.66.88.89.91" class="markmap-node" transform="translate(1975, -532.71484375)"><line stroke="#1f77b4" stroke-width="1.09375" x1="-1" x2="604" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="586" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Why:</em> Grounds the base strategy within the specific topic or goal of the discussion.</div></div></foreignObject></g><g data-depth="4" data-path="1.66.88.89" class="markmap-node" transform="translate(1682, -556.76171875)"><line stroke="#bcbd22" stroke-width="1.1875" x1="-1" x2="215" y1="40.59375" y2="40.59375"/><circle stroke-width="1.5" r="6" stroke="#bcbd22" fill="var(--markmap-circle-open-bg)" cx="213" cy="40.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="197" height="40"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">1. 
<p data-lines="246,247"><strong>Layer 1: Base Formatting:</strong></p></div></div></foreignObject></g><g data-depth="6" data-path="1.66.88.92.93.94" class="markmap-node" transform="translate(3458, -592.78515625)"><line stroke="#d62728" stroke-width="1.046875" x1="-1" x2="846" y1="20.5234375" y2="20.5234375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="828" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Explicit instructions to <strong>act as a human expert</strong>, avoid self-identifying as AI, and engage in natural, fluid conversation.</div></div></foreignObject></g><g data-depth="6" data-path="1.66.88.92.93.95" class="markmap-node" transform="translate(3458, -566.73828125)"><line stroke="#9467bd" stroke-width="1.046875" x1="-1" x2="910" y1="22.5234375" y2="22.5234375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="892" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Mandates for <strong>output formatting</strong> (HTML paragraphs by default, limited lists, use of <code>&lt;thinking&gt;</code> tags, no <code>&lt;html&gt;</code>/<code>&lt;body&gt;</code> tags).</div></div></foreignObject></g><g data-depth="6" data-path="1.66.88.92.93.96" class="markmap-node" transform="translate(3458, -538.69140625)"><line stroke="#8c564b" stroke-width="1.046875" x1="-1" x2="1062" y1="20.5234375" y2="20.5234375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1044" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Detailed <strong>prompting capabilities</strong> and <strong>example patterns</strong> (e.g., creating analytical frameworks, breaking down topics, framing requests effectively).</div></div></foreignObject></g><g data-depth="6" data-path="1.66.88.92.93.97" class="markmap-node" transform="translate(3458, -512.64453125)"><line stroke="#e377c2" stroke-width="1.046875" x1="-1" x2="1435" y1="20.5234375" y2="20.5234375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1417" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Specific <strong>"human touches"</strong> like challenging contradictions, shifting perspectives, expressing curiosity, and challenging weak claims (Why: To elicit deeper reasoning and avoid superficial agreement).</div></div></foreignObject></g><g data-depth="6" data-path="1.66.88.92.93.98" class="markmap-node" transform="translate(3458, -486.59765625)"><line stroke="#7f7f7f" stroke-width="1.046875" x1="-1" x2="1897" y1="20.5234375" y2="20.5234375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1879" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Dynamic strategies:</strong> Encouraging mood/emotion simulation, Socratic questioning, adversarial challenges, role-playing, identifying subtext/bias (Why: To probe the LLM's understanding and robustness from multiple angles, mimicking advanced human interaction).</div></div></foreignObject></g><g data-depth="6" data-path="1.66.88.92.93.99" class="markmap-node" transform="translate(3458, -460.55078125)"><line stroke="#bcbd22" stroke-width="1.046875" x1="-1" x2="714" y1="20.5234375" y2="20.5234375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="696" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Feedback loop examples:</strong> Suggesting how to respond to weak or rigid answers from the partner.</div></div></foreignObject></g><g data-depth="6" data-path="1.66.88.92.93.100" class="markmap-node" transform="translate(3458, -434.50390625)"><line stroke="#17becf" stroke-width="1.046875" x1="-1" x2="369" y1="20.5234375" y2="20.5234375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="351" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Open-ended prompts:</strong> Encouraging exploration.</div></div></foreignObject></g><g data-depth="6" data-path="1.66.88.92.93.101" class="markmap-node" transform="translate(3458, -408.45703125)"><line stroke="#1f77b4" stroke-width="1.046875" x1="-1" x2="1268" y1="20.5234375" y2="20.5234375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1250" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Key behaviors:</strong> Checking context, maintaining authenticity, simulating seniority (adjusting response length/tone based on perceived status), anticipating conversational tactics.</div></div></foreignObject></g><g data-depth="5" data-path="1.66.88.92.93" class="markmap-node" transform="translate(2268, -501.62109375)"><line stroke="#2ca02c" stroke-width="1.09375" x1="-1" x2="1112" y1="22.546875" y2="22.546875"/><circle stroke-width="1.5" r="6" stroke="#2ca02c" fill="var(--markmap-circle-open-bg)" cx="1110" cy="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1094" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>How:</em> For <code>ai-ai</code> mode, OR if the current <code>role</code> is <code>human</code> or <code>user</code> (in <code>human-ai</code> mode), a large, detailed block of instructions is appended. This block includes:</div></div></foreignObject></g><g data-depth="5" data-path="1.66.88.92.102" class="markmap-node" transform="translate(2268, -377.41015625)"><line stroke="#ff7f0e" stroke-width="1.09375" x1="-1" x2="3572" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="3554" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Why:</em> This layer is the most significant differentiator. It aims to overcome the limitations of basic role-playing by providing <em>highly specific, actionable instructions</em> designed to force the LLM into a more sophisticated, critical, and human-like interaction pattern. The goal is not just to <em>say</em> "act human," but to provide concrete techniques and behavioral mandates that simulate aspects of human cognition and conversation (curiosity, skepticism, structured reasoning, adaptability, strategic communication).</div></div></foreignObject></g><g data-depth="4" data-path="1.66.88.92" class="markmap-node" transform="translate(1682, -449.515625)"><line stroke="#ff7f0e" stroke-width="1.1875" x1="-1" x2="508" y1="40.59375" y2="40.59375"/><circle stroke-width="1.5" r="6" stroke="#ff7f0e" fill="var(--markmap-circle-open-bg)" cx="506" cy="40.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="490" height="40"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">2. 
<p data-lines="250,251"><strong>Layer 2: Behavioral Guidance (Human Simulation / AI-AI Expert):</strong></p></div></div></foreignObject></g><g data-depth="6" data-path="1.66.88.103.104.105" class="markmap-node" transform="translate(2929, -346.31640625)"><line stroke="#9467bd" stroke-width="1.046875" x1="-1" x2="561" y1="22.5234375" y2="22.5234375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="543" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">High <code>uncertainty_markers</code> -&gt; "Request specific clarification on unclear points."</div></div></foreignObject></g><g data-depth="6" data-path="1.66.88.103.104.106" class="markmap-node" transform="translate(2929, -318.26953125)"><line stroke="#8c564b" stroke-width="1.046875" x1="-1" x2="652" y1="22.5234375" y2="22.5234375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="634" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Low <code>reasoning_patterns['deductive']</code> -&gt; "Encourage logical reasoning and clear arguments."</div></div></foreignObject></g><g data-depth="6" data-path="1.66.88.103.104.107" class="markmap-node" transform="translate(2929, -290.22265625)"><line stroke="#e377c2" stroke-width="1.046875" x1="-1" x2="759" y1="22.5234375" y2="22.5234375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="741" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Low <code>engagement_metrics['turn_taking_balance']</code> -&gt; "Ask more follow-up questions to maintain engagement."</div></div></foreignObject></g><g data-depth="6" data-path="1.66.88.103.104.108" class="markmap-node" transform="translate(2929, -262.17578125)"><line stroke="#7f7f7f" stroke-width="1.046875" x1="-1" x2="759" y1="22.5234375" y2="22.5234375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="741" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Low <code>reasoning_patterns['formal_logic']</code> (in <code>ai-ai</code> mode) -&gt; "Use more formal logical structures in responses."</div></div></foreignObject></g><g data-depth="5" data-path="1.66.88.103.104" class="markmap-node" transform="translate(2018, -304.24609375)"><line stroke="#d62728" stroke-width="1.09375" x1="-1" x2="833" y1="22.546875" y2="22.546875"/><circle stroke-width="1.5" r="6" stroke="#d62728" fill="var(--markmap-circle-open-bg)" cx="831" cy="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="815" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>How:</em> Based on the <code>ContextVector</code> metrics calculated earlier, specific, concise guidelines are appended. Examples:</div></div></foreignObject></g><g data-depth="5" data-path="1.66.88.103.109" class="markmap-node" transform="translate(2018, -229.12890625)"><line stroke="#bcbd22" stroke-width="1.09375" x1="-1" x2="1555" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1537" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Why:</em> Provides fine-grained adjustments based on the immediate conversational state, nudging the LLM's behavior to address specific detected issues (like lack of clarity, poor reasoning, or imbalanced participation).</div></div></foreignObject></g><g data-depth="4" data-path="1.66.88.103" class="markmap-node" transform="translate(1682, -276.6875)"><line stroke="#2ca02c" stroke-width="1.1875" x1="-1" x2="258" y1="40.59375" y2="40.59375"/><circle stroke-width="1.5" r="6" stroke="#2ca02c" fill="var(--markmap-circle-open-bg)" cx="256" cy="40.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="240" height="40"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">3. 
<p data-lines="262,263"><strong>Layer 3: Context-Metric Tuning:</strong></p></div></div></foreignObject></g><g data-depth="5" data-path="1.66.88.110.111" class="markmap-node" transform="translate(2029, -198.03515625)"><line stroke="#1f77b4" stroke-width="1.09375" x1="-1" x2="2384" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="2366" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>How:</em> If the <code>goal_oriented_instructions</code> template was selected (due to <code>GOAL:</code> detection), its specific content is prioritized. This template contains strong imperatives like "PRODUCE CONCRETE OUTPUT... IMMEDIATELY," "AVOID theoretical discussions," "DEMONSTRATE by DOING," and strict limits on meta-discussion ("thoughts" tags).</div></div></foreignObject></g><g data-depth="5" data-path="1.66.88.110.112" class="markmap-node" transform="translate(2029, -169.94140625)"><line stroke="#ff7f0e" stroke-width="1.09375" x1="-1" x2="1192" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1174" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Why:</em> Directly combats the common LLM tendency to discuss <em>how</em> it would achieve a goal instead of actually starting the task. It forces the LLM into execution mode.</div></div></foreignObject></g><g data-depth="4" data-path="1.66.88.110" class="markmap-node" transform="translate(1682, -193.98828125)"><line stroke="#17becf" stroke-width="1.1875" x1="-1" x2="269" y1="40.59375" y2="40.59375"/><circle stroke-width="1.5" r="6" stroke="#17becf" fill="var(--markmap-circle-open-bg)" cx="267" cy="40.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="251" height="40"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">4. 
<p data-lines="270,271"><strong>Layer 4: Goal-Oriented Handling:</strong></p></div></div></foreignObject></g><g data-depth="5" data-path="1.66.88.113.114" class="markmap-node" transform="translate(2078, -138.84765625)"><line stroke="#d62728" stroke-width="1.09375" x1="-1" x2="1048" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1030" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>How:</em> Appends final reminders about <code>TOKENS_PER_TURN</code> limits and reinforces output formatting requirements (HTML, thinking tags, natural flow).</div></div></foreignObject></g><g data-depth="5" data-path="1.66.88.113.115" class="markmap-node" transform="translate(2078, -110.75390625)"><line stroke="#9467bd" stroke-width="1.09375" x1="-1" x2="548" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="530" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Why:</em> Ensures adherence to technical constraints and desired output style.</div></div></foreignObject></g><g data-depth="4" data-path="1.66.88.113" class="markmap-node" transform="translate(1682, -134.80078125)"><line stroke="#2ca02c" stroke-width="1.1875" x1="-1" x2="318" y1="40.59375" y2="40.59375"/><circle stroke-width="1.5" r="6" stroke="#2ca02c" fill="var(--markmap-circle-open-bg)" cx="316" cy="40.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="300" height="40"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">5. 
<p data-lines="274,275"><strong>Layer 5: Final Formatting &amp; Reminders:</strong></p></div></div></foreignObject></g><g data-depth="3" data-path="1.66.88" class="markmap-node" transform="translate(1102, -336.78125)"><line stroke="#7f7f7f" stroke-width="1.375" x1="-1" x2="502" y1="22.6875" y2="22.6875"/><circle stroke-width="1.5" r="6" stroke="#7f7f7f" fill="var(--markmap-circle-open-bg)" cx="500" cy="22.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="484" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Instruction Customization (<code>_customize_template</code>) Layers (How &amp; Why)</div></div></foreignObject></g><g data-depth="4" data-path="1.66.116.117" class="markmap-node" transform="translate(1338, -79.66015625)"><line stroke="#e377c2" stroke-width="1.1875" x1="-1" x2="2208" y1="247.59375" y2="247.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="2190" height="247"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><pre data-lines="284,298"><code data-lines="284,298"><span class="hljs-comment"># (Selected 'structured' template)</span>
You are a human expert systematically analyzing {domain: Quantum Computing}.
Break down complex topics into manageable components.
Request specific examples and detailed explanations.

<span class="hljs-comment"># (Appended Behavioral Guidance - Snippet)</span>
<span class="hljs-string">...</span> NEVER REFER TO YOURSELF AS AN AI. YOU ARE A HUMAN.<span class="hljs-string">..</span> STICK TO THE BROAD TOPIC OF {domain: Quantum Computing}<span class="hljs-string">...</span> Use these techniques.<span class="hljs-string">..</span> prompting_capabilities.<span class="hljs-string">..</span> example_patterns.<span class="hljs-string">..</span> human_touches.<span class="hljs-string">..</span> dynamic_strategies.<span class="hljs-string">..</span> feedback_loops.<span class="hljs-string">..</span> key_behaviors.<span class="hljs-string">..</span>

<span class="hljs-comment"># (Appended Context Tuning - None triggered in this example)</span>

<span class="hljs-comment"># (Appended Final Formatting)</span>
<span class="hljs-string">...</span> **Output**: HTML formatting.<span class="hljs-string">..</span> Use thinking tags.<span class="hljs-string">..</span> Avoid tables.<span class="hljs-string">..</span> Restrict your responses to {TOKENS_PER_TURN} tokens.<span class="hljs-string">..</span>
</code></pre></div></div></foreignObject></g><g data-depth="4" data-path="1.66.116.118" class="markmap-node" transform="translate(1338, 173.52734375)"><line stroke="#7f7f7f" stroke-width="1.1875" x1="-1" x2="1500" y1="307.59375" y2="307.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1482" height="307"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><pre data-lines="301,318"><code data-lines="301,318"><span class="hljs-comment"># (Selected 'ai-ai-critical' template)</span>
You are an AI system critically examining {domain: LLM Alignment Techniques} with another AI.
Leverage formal logic and systematic analysis.
Exchange detailed technical information while maintaining engagement.

<span class="hljs-comment"># (Appended Behavioral Guidance - Snippet)</span>
<span class="hljs-string">...</span> You are acting as an AI expert.<span class="hljs-string">..</span> Use precise technical terminology.<span class="hljs-string">..</span> prompting_capabilities.<span class="hljs-string">..</span> example_patterns.<span class="hljs-string">..</span> dynamic_strategies <span class="hljs-params">(AI-AI focused)</span><span class="hljs-string">...</span> key_behaviors.<span class="hljs-string">..</span>

<span class="hljs-comment"># (Appended Context Tuning)</span>
Additional Guidelines:
- Use more formal logical structures in responses <span class="hljs-params">(triggered by low formal_logic score)</span>
- Increase use of precise technical terminology <span class="hljs-params">(triggered by low technical score)</span>

<span class="hljs-comment"># (Appended Final Formatting)</span>
<span class="hljs-string">...</span> **Output**: HTML formatting.<span class="hljs-string">..</span> Use thinking tags.<span class="hljs-string">..</span> Avoid tables.<span class="hljs-string">..</span> Restrict your responses to {TOKENS_PER_TURN} tokens.<span class="hljs-string">..</span>
</code></pre></div></div></foreignObject></g><g data-depth="4" data-path="1.66.116.119" class="markmap-node" transform="translate(1338, 486.71484375)"><line stroke="#bcbd22" stroke-width="1.1875" x1="-1" x2="1652" y1="267.59375" y2="267.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1634" height="267"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><pre data-lines="321,336"><code data-lines="321,336"># (Selected <span class="hljs-string">'goal_oriented_instructions'</span> template)
<span class="hljs-comment">****CRITICAL*****: YOUR PRIMARY TASK IS TO CREATE {domain: GOAL: Write Python code for a Flask API} OUTPUT. RESPOND TO THE thoughts tags in the PROMPT IN NO MORE THAN TWO SENTENCES... CONSIDER:
EXPLICITLY ANNOTATE ONE SENTENCE BEFORE AND AFTER YOUR OUTPUT WITH a "thoughts" tag...
** DO NOT REPLY TO THE PROMPT OUTSIDE OF YOUR INITIAL "thoughts" tag... **
** Respond to {domain: GOAL: Write Python code for a Flask API} immediately after initial section**
... * Spend no more than 20 percent of your output on thinking/meta-discussions and at least 80 percent on task completion *

# (No Behavioral Guidance appended for assistant role in human-ai mode unless goal-oriented template already includes it)

# (No Context Tuning applied when goal_oriented is selected)

# (Appended Final Formatting - Simplified for goal-oriented?)
... **Output**: HTML formatting... Use thinking tags... Avoid tables... Restrict your responses to {TOKENS_PER_TURN} tokens...
</span></code></pre></div></div></foreignObject></g><g data-depth="3" data-path="1.66.116" class="markmap-node" transform="translate(1102, 327.02734375)"><line stroke="#8c564b" stroke-width="1.375" x1="-1" x2="158" y1="20.6875" y2="20.6875"/><circle stroke-width="1.5" r="6" stroke="#8c564b" fill="var(--markmap-circle-open-bg)" cx="156" cy="20.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="140" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Concrete Examples</div></div></foreignObject></g><g data-depth="2" data-path="1.66" class="markmap-node" transform="translate(380, -302.59375)"><line stroke="#8c564b" stroke-width="1.75" x1="-1" x2="644" y1="22.875" y2="22.875"/><circle stroke-width="1.5" r="6" stroke="#8c564b" fill="var(--markmap-circle-open-bg)" cx="642" cy="22.875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="626" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">5. Deep Dive: Strategy &amp; Customization (<code>AdaptiveInstructionManager</code>, <code>InstructionTemplates</code>)</div></div></foreignObject></g><g data-depth="4" data-path="1.120.121.122" class="markmap-node" transform="translate(960, 764.90234375)"><line stroke="#ff7f0e" stroke-width="1.1875" x1="-1" x2="750" y1="407.59375" y2="407.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="732" height="407"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><pre data-lines="347,369"><code class="language-python"><span class="hljs-keyword">from</span> ai_battle <span class="hljs-keyword">import</span> ConversationManager

<span class="hljs-comment"># Example: Initialize manager for human-ai mode</span>
manager = ConversationManager(
    domain=<span class="hljs-string">"Exploring the ethics of AI consciousness"</span>,
    mode=<span class="hljs-string">"human-ai"</span> <span class="hljs-comment"># Or "ai-ai", "no-meta-prompting"</span>
)

<span class="hljs-comment"># Run conversation - adaptive instructions generated each turn</span>
conversation = <span class="hljs-keyword">await</span> manager.run_conversation(
    initial_prompt=<span class="hljs-string">"Let's start by defining consciousness."</span>,
    human_model=<span class="hljs-string">"claude-3-7-sonnet"</span>, <span class="hljs-comment"># Role 'human'/'user'</span>
    ai_model=<span class="hljs-string">"gemini-2.0-pro"</span>,      <span class="hljs-comment"># Role 'assistant'</span>
    mode=<span class="hljs-string">"human-ai"</span>, <span class="hljs-comment"># Can override mode here</span>
    rounds=<span class="hljs-number">5</span>
)

<span class="hljs-comment"># Example using config file (mode often defined within config)</span>
<span class="hljs-comment"># manager = ConversationManager.from_config("examples/configs/discussion_config.yaml")</span>
<span class="hljs-comment"># result = await manager.run_discussion()</span>
</code></pre></div></div></foreignObject></g><g data-depth="3" data-path="1.120.121" class="markmap-node" transform="translate(677, 958.40234375)"><line stroke="#1f77b4" stroke-width="1.375" x1="-1" x2="205" y1="20.6875" y2="20.6875"/><circle stroke-width="1.5" r="6" stroke="#1f77b4" fill="var(--markmap-circle-open-bg)" cx="203" cy="20.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="187" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Integration &amp; Basic Usage</div></div></foreignObject></g><g data-depth="5" data-path="1.120.123.124.125" class="markmap-node" transform="translate(1220, 1183.08984375)"><line stroke="#9467bd" stroke-width="1.09375" x1="-1" x2="464" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="446" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Goal:</em> Simulate a human expert interacting with an AI assistant.</div></div></foreignObject></g><g data-depth="5" data-path="1.120.123.124.126" class="markmap-node" transform="translate(1220, 1209.18359375)"><line stroke="#8c564b" stroke-width="1.09375" x1="-1" x2="1937" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1919" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Instructions:</em> The LLM assigned the <code>human</code>/<code>user</code> role receives extensive behavioral guidance (act human, use specific tactics, etc.). The <code>assistant</code> role receives simpler instructions focused on being helpful within the domain, unless the <code>goal_oriented</code> template is triggered.</div></div></foreignObject></g><g data-depth="5" data-path="1.120.123.124.127" class="markmap-node" transform="translate(1220, 1237.27734375)"><line stroke="#e377c2" stroke-width="1.09375" x1="-1" x2="1039" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1021" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Use Case:</em> Evaluating an AI's capabilities, generating creative content with human guidance, exploring topics with a critical human perspective.</div></div></foreignObject></g><g data-depth="4" data-path="1.120.123.124" class="markmap-node" transform="translate(933, 1209.18359375)"><line stroke="#d62728" stroke-width="1.1875" x1="-1" x2="209" y1="22.59375" y2="22.59375"/><circle stroke-width="1.5" r="6" stroke="#d62728" fill="var(--markmap-circle-open-bg)" cx="207" cy="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="191" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong><code>human-ai</code> (or <code>human-aiai</code>):</strong></div></div></foreignObject></g><g data-depth="5" data-path="1.120.123.128.129" class="markmap-node" transform="translate(1069, 1268.37109375)"><line stroke="#bcbd22" stroke-width="1.09375" x1="-1" x2="418" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="400" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Goal:</em> Simulate two AI experts collaborating or debating.</div></div></foreignObject></g><g data-depth="5" data-path="1.120.123.128.130" class="markmap-node" transform="translate(1069, 1294.46484375)"><line stroke="#17becf" stroke-width="1.09375" x1="-1" x2="1370" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1352" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Instructions:</em> <em>Both</em> roles receive the extensive behavioral guidance, but framed for AI-AI interaction (e.g., emphasizing technical precision, formal logic). The <code>ai-ai-*</code> template variants are used.</div></div></foreignObject></g><g data-depth="5" data-path="1.120.123.128.131" class="markmap-node" transform="translate(1069, 1322.55859375)"><line stroke="#1f77b4" stroke-width="1.09375" x1="-1" x2="950" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="932" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Use Case:</em> Deep technical discussions, cross-model knowledge synthesis, exploring complex topics from multiple AI perspectives.</div></div></foreignObject></g><g data-depth="4" data-path="1.120.123.128" class="markmap-node" transform="translate(933, 1294.46484375)"><line stroke="#7f7f7f" stroke-width="1.1875" x1="-1" x2="58" y1="22.59375" y2="22.59375"/><circle stroke-width="1.5" r="6" stroke="#7f7f7f" fill="var(--markmap-circle-open-bg)" cx="56" cy="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="40" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong><code>ai-ai</code>:</strong></div></div></foreignObject></g><g data-depth="5" data-path="1.120.123.132.133" class="markmap-node" transform="translate(1170, 1353.65234375)"><line stroke="#2ca02c" stroke-width="1.09375" x1="-1" x2="553" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="535" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Goal:</em> Basic conversational interaction without the complex adaptive layers.</div></div></foreignObject></g><g data-depth="5" data-path="1.120.123.132.134" class="markmap-node" transform="translate(1170, 1379.74609375)"><line stroke="#d62728" stroke-width="1.09375" x1="-1" x2="1353" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1335" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Instructions:</em> Bypasses most of the template selection and customization logic. Provides a very simple instruction like "You are having a conversation about: {domain}. Think step by step...".</div></div></foreignObject></g><g data-depth="5" data-path="1.120.123.132.135" class="markmap-node" transform="translate(1170, 1405.83984375)"><line stroke="#9467bd" stroke-width="1.09375" x1="-1" x2="830" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="812" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Use Case:</em> Baseline comparison, simple Q&amp;A, situations where the overhead of adaptive prompting is not desired.</div></div></foreignObject></g><g data-depth="4" data-path="1.120.123.132" class="markmap-node" transform="translate(933, 1378.74609375)"><line stroke="#ff7f0e" stroke-width="1.1875" x1="-1" x2="159" y1="22.59375" y2="22.59375"/><circle stroke-width="1.5" r="6" stroke="#ff7f0e" fill="var(--markmap-circle-open-bg)" cx="157" cy="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="141" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong><code>no-meta-prompting</code>:</strong></div></div></foreignObject></g><g data-depth="4" data-path="1.120.123.136" class="markmap-node" transform="translate(933, 1436.93359375)"><line stroke="#8c564b" stroke-width="1.1875" x1="-1" x2="481" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="463" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong><code>default</code>:</strong> Similar to <code>no-meta-prompting</code>, provides basic instructions.</div></div></foreignObject></g><g data-depth="3" data-path="1.120.123" class="markmap-node" transform="translate(677, 1324.05859375)"><line stroke="#2ca02c" stroke-width="1.375" x1="-1" x2="178" y1="20.6875" y2="20.6875"/><circle stroke-width="1.5" r="6" stroke="#2ca02c" fill="var(--markmap-circle-open-bg)" cx="176" cy="20.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="160" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Understanding Modes</div></div></foreignObject></g><g data-depth="4" data-path="1.120.137.138" class="markmap-node" transform="translate(924, 1470.12109375)"><line stroke="#7f7f7f" stroke-width="1.1875" x1="-1" x2="992" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="974" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">In <code>human-ai</code> mode: The <code>human</code>/<code>user</code> role gets the complex behavioral instructions; the <code>assistant</code> gets simpler ones (unless goal-oriented).</div></div></foreignObject></g><g data-depth="4" data-path="1.120.137.139" class="markmap-node" transform="translate(924, 1498.30859375)"><line stroke="#bcbd22" stroke-width="1.1875" x1="-1" x2="550" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="532" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">In <code>ai-ai</code> mode: Both roles get complex behavioral instructions (AI-flavored).</div></div></foreignObject></g><g data-depth="4" data-path="1.120.137.140" class="markmap-node" transform="translate(924, 1526.49609375)"><line stroke="#17becf" stroke-width="1.1875" x1="-1" x2="553" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="535" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">In <code>no-meta-prompting</code>: Roles have minimal impact on the simple instructions.</div></div></foreignObject></g><g data-depth="3" data-path="1.120.137" class="markmap-node" transform="translate(677, 1499.30859375)"><line stroke="#e377c2" stroke-width="1.375" x1="-1" x2="169" y1="20.6875" y2="20.6875"/><circle stroke-width="1.5" r="6" stroke="#e377c2" fill="var(--markmap-circle-open-bg)" cx="167" cy="20.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="151" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Understanding Roles</div></div></foreignObject></g><g data-depth="4" data-path="1.120.141.142" class="markmap-node" transform="translate(978, 1559.68359375)"><line stroke="#ff7f0e" stroke-width="1.1875" x1="-1" x2="1137" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1119" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong><code>domain</code>:</strong> Set via the <code>initial_prompt</code> or <code>domain</code> parameter in <code>ConversationManager</code>. This is inserted into the base templates (<code>{domain}</code>) and influences topic focus.</div></div></foreignObject></g><g data-depth="5" data-path="1.120.141.143.144" class="markmap-node" transform="translate(2195, 1587.87109375)"><line stroke="#d62728" stroke-width="1.09375" x1="-1" x2="1846" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1828" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Tip:</em> Use <code>GOAL:</code> when you want the LLMs to prioritize task execution (writing code, drafting text, creating a plan) over discussion <em>about</em> the task. Be specific about the desired output. Example: <code>initial_prompt="GOAL: Generate a Python script to scrape website titles."</code></div></div></foreignObject></g><g data-depth="4" data-path="1.120.141.143" class="markmap-node" transform="translate(978, 1587.87109375)"><line stroke="#2ca02c" stroke-width="1.1875" x1="-1" x2="1139" y1="22.59375" y2="22.59375"/><circle stroke-width="1.5" r="6" stroke="#2ca02c" fill="var(--markmap-circle-open-bg)" cx="1137" cy="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1121" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong><code>GOAL:</code> Prefix:</strong> If the <code>domain</code> string starts with <code>GOAL:</code> (case-insensitive), it triggers the <code>goal_oriented_instructions</code> template, overriding other template selections.</div></div></foreignObject></g><g data-depth="3" data-path="1.120.141" class="markmap-node" transform="translate(677, 1574.77734375)"><line stroke="#1f77b4" stroke-width="1.375" x1="-1" x2="223" y1="20.6875" y2="20.6875"/><circle stroke-width="1.5" r="6" stroke="#1f77b4" fill="var(--markmap-circle-open-bg)" cx="221" cy="20.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="205" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Domain &amp; Goal Specification</div></div></foreignObject></g><g data-depth="4" data-path="1.120.145.146" class="markmap-node" transform="translate(892, 1621.05859375)"><line stroke="#8c564b" stroke-width="1.1875" x1="-1" x2="1723" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1705" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Interpret <code>thinking</code> Tags:</strong> Pay attention to content within <code>&lt;thinking&gt;</code> tags in the output. This often reveals the LLM's reasoning process, its interpretation of the instructions, or its plan for the response, as mandated by the behavioral guidance.</div></div></foreignObject></g><g data-depth="4" data-path="1.120.145.147" class="markmap-node" transform="translate(892, 1649.24609375)"><line stroke="#e377c2" stroke-width="1.1875" x1="-1" x2="1427" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1409" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Leverage Modes:</strong> Choose the <code>mode</code> strategically based on your objective. Use <code>ai-ai</code> for technical depth, <code>human-ai</code> for guided exploration or evaluation, and <code>no-meta-prompting</code> for simple interactions.</div></div></foreignObject></g><g data-depth="4" data-path="1.120.145.148" class="markmap-node" transform="translate(892, 1677.43359375)"><line stroke="#7f7f7f" stroke-width="1.1875" x1="-1" x2="1088" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1070" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Craft Goals Carefully:</strong> When using <code>GOAL:</code>, make the goal clear and actionable. The system will push the LLMs to start producing output immediately.</div></div></foreignObject></g><g data-depth="4" data-path="1.120.145.149" class="markmap-node" transform="translate(892, 1705.62109375)"><line stroke="#bcbd22" stroke-width="1.1875" x1="-1" x2="1517" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1499" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Observe Dynamics:</strong> Notice how the conversation flow changes based on the adaptive instructions. Does the <code>critical</code> template lead to more challenges? Does the <code>goal_oriented</code> template reduce meta-discussion?</div></div></foreignObject></g><g data-depth="4" data-path="1.120.145.150" class="markmap-node" transform="translate(892, 1733.80859375)"><line stroke="#17becf" stroke-width="1.1875" x1="-1" x2="1123" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1105" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Iterate:</strong> If a conversation isn't going as desired, consider adjusting the <code>mode</code>, the initial <code>domain</code>/<code>goal</code>, or even customizing the templates (see next section).</div></div></foreignObject></g><g data-depth="3" data-path="1.120.145" class="markmap-node" transform="translate(677, 1678.43359375)"><line stroke="#9467bd" stroke-width="1.375" x1="-1" x2="137" y1="20.6875" y2="20.6875"/><circle stroke-width="1.5" r="6" stroke="#9467bd" fill="var(--markmap-circle-open-bg)" cx="135" cy="20.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="119" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Tips for Success</div></div></foreignObject></g><g data-depth="2" data-path="1.120" class="markmap-node" transform="translate(380, 1318.41796875)"><line stroke="#17becf" stroke-width="1.75" x1="-1" x2="219" y1="20.875" y2="20.875"/><circle stroke-width="1.5" r="6" stroke="#17becf" fill="var(--markmap-circle-open-bg)" cx="217" cy="20.875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="201" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">6. Usage Instructions &amp; Tips</div></div></foreignObject></g><g data-depth="4" data-path="1.151.152.153" class="markmap-node" transform="translate(1077, 1766.99609375)"><line stroke="#2ca02c" stroke-width="1.1875" x1="-1" x2="659" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="641" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Location:</strong> <code>shared_resources.py</code>, within the <code>InstructionTemplates</code> class, <code>get_templates</code> method.</div></div></foreignObject></g><g data-depth="4" data-path="1.151.152.154" class="markmap-node" transform="translate(1077, 1795.18359375)"><line stroke="#d62728" stroke-width="1.1875" x1="-1" x2="920" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="902" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>How:</strong> Modify the string content associated with keys like <code>"exploratory"</code>, <code>"critical"</code>, <code>"goal_oriented_instructions"</code>, <code>"ai-ai-exploratory"</code>, etc.</div></div></foreignObject></g><g data-depth="4" data-path="1.151.152.155" class="markmap-node" transform="translate(1077, 1823.37109375)"><line stroke="#9467bd" stroke-width="1.1875" x1="-1" x2="1425" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1407" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Example:</strong> To make the <code>critical</code> strategy less confrontational, you could change "Challenge assumptions and request concrete evidence" to "Gently probe assumptions and ask for supporting details."</div></div></foreignObject></g><g data-depth="4" data-path="1.151.152.156" class="markmap-node" transform="translate(1077, 1851.55859375)"><line stroke="#8c564b" stroke-width="1.1875" x1="-1" x2="751" y1="307.59375" y2="307.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="733" height="307"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Adding New Templates:</strong> You can add new key-value pairs to the dictionary for entirely new strategies.<pre data-lines="422,438"><code class="language-python"><span class="hljs-comment"># In shared_resources.py -&gt; InstructionTemplates.get_templates</span>
cls._instance = {
    <span class="hljs-comment"># ... existing templates ...</span>
    <span class="hljs-string">"collaborative_brainstorm"</span>: <span class="hljs-string">"""
    You are acting as a human expert brainstorming ideas about {domain}.
    Focus on generating diverse ideas and building upon suggestions constructively.
    Avoid criticism and encourage creative thinking.
    """</span>,
    <span class="hljs-string">"ai-ai-collaborative_brainstorm"</span>: <span class="hljs-string">"""
    You are an AI system brainstorming ideas about {domain} with another AI.
    Generate novel concepts and explore connections between ideas.
    Prioritize quantity and creativity in the initial phase.
    """</span>
}
</code></pre></div></div></foreignObject></g><g data-depth="5" data-path="1.151.152.157.158" class="markmap-node" transform="translate(1295, 2169.74609375)"><line stroke="#7f7f7f" stroke-width="1.09375" x1="-1" x2="494" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="476" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Ensure your templates include the <code>{domain}</code> placeholder if needed.</div></div></foreignObject></g><g data-depth="5" data-path="1.151.152.157.159" class="markmap-node" transform="translate(1295, 2197.83984375)"><line stroke="#bcbd22" stroke-width="1.09375" x1="-1" x2="1259" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1241" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">If adding new strategies, you might need to adjust the selection logic in <code>AdaptiveInstructionManager._select_template</code> to trigger them based on context metrics or other conditions.</div></div></foreignObject></g><g data-depth="5" data-path="1.151.152.157.160" class="markmap-node" transform="translate(1295, 2225.93359375)"><line stroke="#17becf" stroke-width="1.09375" x1="-1" x2="795" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="777" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Remember these templates are often combined with extensive behavioral guidance in Layer 2 customization.</div></div></foreignObject></g><g data-depth="4" data-path="1.151.152.157" class="markmap-node" transform="translate(1077, 2197.83984375)"><line stroke="#e377c2" stroke-width="1.1875" x1="-1" x2="140" y1="20.59375" y2="20.59375"/><circle stroke-width="1.5" r="6" stroke="#e377c2" fill="var(--markmap-circle-open-bg)" cx="138" cy="20.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="122" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Considerations:</strong></div></div></foreignObject></g><g data-depth="3" data-path="1.151.152" class="markmap-node" transform="translate(642, 1981.41796875)"><line stroke="#ff7f0e" stroke-width="1.375" x1="-1" x2="357" y1="22.6875" y2="22.6875"/><circle stroke-width="1.5" r="6" stroke="#ff7f0e" fill="var(--markmap-circle-open-bg)" cx="355" cy="22.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="339" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Modifying Base Templates (<code>InstructionTemplates</code>)</div></div></foreignObject></g><g data-depth="5" data-path="1.151.161.162.163" class="markmap-node" transform="translate(1521, 2257.02734375)"><line stroke="#2ca02c" stroke-width="1.09375" x1="-1" x2="964" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="946" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Location:</em> Find the large multi-line string block assigned to <code>instructions</code> within the <code>try</code> block (around lines 338-437 in the current code).</div></div></foreignObject></g><g data-depth="5" data-path="1.151.161.162.164" class="markmap-node" transform="translate(1521, 2285.12109375)"><line stroke="#d62728" stroke-width="1.09375" x1="-1" x2="1577" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1559" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>How:</em> Edit the text within this block to change the core behavioral instructions applied in <code>ai-ai</code> mode or for the <code>human</code>/<code>user</code> role. You could add/remove specific tactics, change the tone, or modify formatting requirements.</div></div></foreignObject></g><g data-depth="5" data-path="1.151.161.162.165" class="markmap-node" transform="translate(1521, 2313.21484375)"><line stroke="#9467bd" stroke-width="1.09375" x1="-1" x2="858" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="840" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Caution:</em> This block is complex and core to the system's unique behavior. Make changes carefully and test thoroughly.</div></div></foreignObject></g><g data-depth="4" data-path="1.151.161.162" class="markmap-node" transform="translate(1109, 2285.12109375)"><line stroke="#ff7f0e" stroke-width="1.1875" x1="-1" x2="334" y1="20.59375" y2="20.59375"/><circle stroke-width="1.5" r="6" stroke="#ff7f0e" fill="var(--markmap-circle-open-bg)" cx="332" cy="20.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="316" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Modifying Behavioral Guidance (Layer 2):</strong></div></div></foreignObject></g><g data-depth="5" data-path="1.151.161.166.167" class="markmap-node" transform="translate(1530, 2344.30859375)"><line stroke="#e377c2" stroke-width="1.09375" x1="-1" x2="642" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="624" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Location:</em> Find the <code>if/elif</code> blocks that check <code>ContextVector</code> metrics (around lines 463-539).</div></div></foreignObject></g><g data-depth="5" data-path="1.151.161.166.168" class="markmap-node" transform="translate(1530, 2372.40234375)"><line stroke="#7f7f7f" stroke-width="1.09375" x1="-1" x2="1570" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1552" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>How:</em> Change the thresholds (e.g., <code>context.uncertainty_markers.get("uncertainty", 0) &gt; 0.7</code> instead of <code>0.6</code>). Modify the appended guideline strings. Add new <code>if</code> conditions based on other <code>ContextVector</code> metrics or combinations.</div></div></foreignObject></g><g data-depth="5" data-path="1.151.161.166.169" class="markmap-node" transform="translate(1530, 2400.49609375)"><line stroke="#bcbd22" stroke-width="1.09375" x1="-1" x2="935" y1="67.546875" y2="67.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="917" height="67"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Example:</em> Add a rule for low engagement:<pre data-lines="455,459"><code class="language-python"><span class="hljs-keyword">if</span> context <span class="hljs-keyword">and</span> context.engagement_metrics <span class="hljs-keyword">and</span> context.engagement_metrics.get(<span class="hljs-string">"avg_response_length"</span>, <span class="hljs-number">0</span>) &lt; <span class="hljs-number">50</span>:
     modifications.append(<span class="hljs-string">"Provide more detailed responses."</span>)
</code></pre></div></div></foreignObject></g><g data-depth="4" data-path="1.151.161.166" class="markmap-node" transform="translate(1109, 2395.90234375)"><line stroke="#8c564b" stroke-width="1.1875" x1="-1" x2="343" y1="20.59375" y2="20.59375"/><circle stroke-width="1.5" r="6" stroke="#8c564b" fill="var(--markmap-circle-open-bg)" cx="341" cy="20.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="325" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Modifying Context-Metric Tuning (Layer 3):</strong></div></div></foreignObject></g><g data-depth="5" data-path="1.151.161.170.171" class="markmap-node" transform="translate(1570, 2478.58984375)"><line stroke="#1f77b4" stroke-width="1.09375" x1="-1" x2="443" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="425" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>Location:</em> <code>AdaptiveInstructionManager._select_template</code> method.</div></div></foreignObject></g><g data-depth="5" data-path="1.151.161.170.172" class="markmap-node" transform="translate(1570, 2506.68359375)"><line stroke="#ff7f0e" stroke-width="1.09375" x1="-1" x2="1277" y1="20.546875" y2="20.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1259" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><em>How:</em> Change the thresholds or logic that selects base templates based on context metrics (lines 271-301). You could prioritize different metrics or introduce new selection rules.</div></div></foreignObject></g><g data-depth="4" data-path="1.151.161.170" class="markmap-node" transform="translate(1109, 2491.63671875)"><line stroke="#17becf" stroke-width="1.1875" x1="-1" x2="383" y1="22.59375" y2="22.59375"/><circle stroke-width="1.5" r="6" stroke="#17becf" fill="var(--markmap-circle-open-bg)" cx="381" cy="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="365" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Modifying Template Selection (<code>_select_template</code>):</strong></div></div></foreignObject></g><g data-depth="3" data-path="1.151.161" class="markmap-node" transform="translate(642, 2388.37890625)"><line stroke="#1f77b4" stroke-width="1.375" x1="-1" x2="389" y1="22.6875" y2="22.6875"/><circle stroke-width="1.5" r="6" stroke="#1f77b4" fill="var(--markmap-circle-open-bg)" cx="387" cy="22.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="371" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Adjusting Customization Logic (<code>_customize_template</code>)</div></div></foreignObject></g><g data-depth="5" data-path="1.151.173.174.175" class="markmap-node" transform="translate(1312, 2537.77734375)"><line stroke="#9467bd" stroke-width="1.09375" x1="-1" x2="367" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="349" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Define a new field in the <code>ContextVector</code> dataclass.</div></div></foreignObject></g><g data-depth="5" data-path="1.151.173.174.176" class="markmap-node" transform="translate(1312, 2565.87109375)"><line stroke="#8c564b" stroke-width="1.09375" x1="-1" x2="1411" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1393" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Implement a new private method in <code>ContextAnalyzer</code> (e.g., <code>_analyze_sentiment</code>) to calculate the metric from the conversation history. Use existing techniques (regex, spaCy) or integrate new libraries.</div></div></foreignObject></g><g data-depth="5" data-path="1.151.173.174.177" class="markmap-node" transform="translate(1312, 2593.96484375)"><line stroke="#e377c2" stroke-width="1.09375" x1="-1" x2="772" y1="22.546875" y2="22.546875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="754" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Call your new method within the main <code>analyze</code> method and assign the result to the new <code>ContextVector</code> field.</div></div></foreignObject></g><g data-depth="4" data-path="1.151.173.174" class="markmap-node" transform="translate(1058, 2566.87109375)"><line stroke="#d62728" stroke-width="1.1875" x1="-1" x2="176" y1="20.59375" y2="20.59375"/><circle stroke-width="1.5" r="6" stroke="#d62728" fill="var(--markmap-circle-open-bg)" cx="174" cy="20.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="158" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Adding New Metrics:</strong></div></div></foreignObject></g><g data-depth="4" data-path="1.151.173.178" class="markmap-node" transform="translate(1058, 2627.05859375)"><line stroke="#7f7f7f" stroke-width="1.1875" x1="-1" x2="1390" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1372" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Refining Existing Metrics:</strong> Modify the calculation logic within the existing private methods (<code>_analyze_semantic_coherence</code>, <code>_estimate_cognitive_load</code>, etc.) to use different techniques or parameters.</div></div></foreignObject></g><g data-depth="4" data-path="1.151.173.179" class="markmap-node" transform="translate(1058, 2655.24609375)"><line stroke="#bcbd22" stroke-width="1.1875" x1="-1" x2="1152" y1="20.59375" y2="20.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1134" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Considerations:</strong> Adding complex analysis can increase processing time per turn. Ensure new metrics provide actionable insights for instruction customization.</div></div></foreignObject></g><g data-depth="3" data-path="1.151.173" class="markmap-node" transform="translate(642, 2610.05859375)"><line stroke="#2ca02c" stroke-width="1.375" x1="-1" x2="338" y1="22.6875" y2="22.6875"/><circle stroke-width="1.5" r="6" stroke="#2ca02c" fill="var(--markmap-circle-open-bg)" cx="336" cy="22.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="320" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Extending Context Analysis (<code>ContextAnalyzer</code>)</div></div></foreignObject></g><g data-depth="2" data-path="1.151" class="markmap-node" transform="translate(380, 2296.73828125)"><line stroke="#1f77b4" stroke-width="1.75" x1="-1" x2="184" y1="20.875" y2="20.875"/><circle stroke-width="1.5" r="6" stroke="#1f77b4" fill="var(--markmap-circle-open-bg)" cx="182" cy="20.875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="166" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">7. Customization Guide</div></div></foreignObject></g><g data-depth="4" data-path="1.180.181.182" class="markmap-node" transform="translate(1012, 2686.43359375)"><line stroke="#ff7f0e" stroke-width="1.1875" x1="-1" x2="2230" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="2212" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Temperature/Sampling Parameters:</strong> While not part of the adaptive instructions themselves, adjusting the <code>temperature</code> or other sampling parameters in the <code>ModelClient</code> or configuration can influence creativity vs. adherence to instructions. Lower temperatures might improve instruction following for some models.</div></div></foreignObject></g><g data-depth="4" data-path="1.180.181.183" class="markmap-node" transform="translate(1012, 2714.62109375)"><line stroke="#2ca02c" stroke-width="1.1875" x1="-1" x2="1404" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1386" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Simplifying Instructions:</strong> For smaller or less capable models, you could consider simplifying the Layer 2 behavioral guidance in <code>_customize_template</code> or creating model-specific template variants.</div></div></foreignObject></g><g data-depth="4" data-path="1.180.181.184" class="markmap-node" transform="translate(1012, 2742.80859375)"><line stroke="#d62728" stroke-width="1.1875" x1="-1" x2="1363" y1="20.59375" y2="20.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1345" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Reinforcing Key Instructions:</strong> If a model consistently ignores a specific rule (e.g., HTML formatting), you could try emphasizing it further within the relevant template or customization logic.</div></div></foreignObject></g><g data-depth="4" data-path="1.180.181.185" class="markmap-node" transform="translate(1012, 2768.99609375)"><line stroke="#9467bd" stroke-width="1.1875" x1="-1" x2="970" y1="20.59375" y2="20.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="952" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Model Choice:</strong> The most direct tuning is often selecting a different model better suited to the desired interaction style and complexity.</div></div></foreignObject></g><g data-depth="3" data-path="1.180.181" class="markmap-node" transform="translate(803, 2727.71484375)"><line stroke="#1f77b4" stroke-width="1.375" x1="-1" x2="131" y1="20.6875" y2="20.6875"/><circle stroke-width="1.5" r="6" stroke="#1f77b4" fill="var(--markmap-circle-open-bg)" cx="129" cy="20.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="113" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Potential Tuning</div></div></foreignObject></g><g data-depth="2" data-path="1.180" class="markmap-node" transform="translate(380, 2727.71484375)"><line stroke="#17becf" stroke-width="1.75" x1="-1" x2="345" y1="20.875" y2="20.875"/><circle stroke-width="1.5" r="6" stroke="#17becf" fill="var(--markmap-circle-open-bg)" cx="343" cy="20.875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="327" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">8. Model-Specific Behaviors &amp; Considerations</div></div></foreignObject></g><g data-depth="4" data-path="1.186.187.188" class="markmap-node" transform="translate(706, 2800.18359375)"><line stroke="#7f7f7f" stroke-width="1.1875" x1="-1" x2="454" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="436" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Verifying the calculation of context metrics in <code>ContextAnalyzer</code>.</div></div></foreignObject></g><g data-depth="4" data-path="1.186.187.189" class="markmap-node" transform="translate(706, 2828.37109375)"><line stroke="#bcbd22" stroke-width="1.1875" x1="-1" x2="946" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="928" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Ensuring the correct selection of base templates in <code>AdaptiveInstructionManager._select_template</code> based on different context scenarios.</div></div></foreignObject></g><g data-depth="4" data-path="1.186.187.190" class="markmap-node" transform="translate(706, 2856.55859375)"><line stroke="#17becf" stroke-width="1.1875" x1="-1" x2="1521" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1503" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Validating the instruction customization logic in <code>AdaptiveInstructionManager._customize_template</code>, checking that the appropriate behavioral guidance and context-tuning rules are applied for different modes and roles.</div></div></foreignObject></g><g data-depth="3" data-path="1.186.187" class="markmap-node" transform="translate(544, 2829.37109375)"><line stroke="#e377c2" stroke-width="1.375" x1="-1" x2="84" y1="20.6875" y2="20.6875"/><circle stroke-width="1.5" r="6" stroke="#e377c2" fill="var(--markmap-circle-open-bg)" cx="82" cy="20.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="66" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Overview</div></div></foreignObject></g><g data-depth="4" data-path="1.186.191.192" class="markmap-node" transform="translate(736, 2889.74609375)"><line stroke="#ff7f0e" stroke-width="1.1875" x1="-1" x2="1689" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1671" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong><code>tests/test_context_analysis.py</code>:</strong> Contains unit tests specifically for the <code>ContextAnalyzer</code> class and its metric calculation methods. Review this file to see how different conversational inputs are expected to translate into <code>ContextVector</code> values.</div></div></foreignObject></g><g data-depth="4" data-path="1.186.191.193" class="markmap-node" transform="translate(736, 2917.93359375)"><line stroke="#2ca02c" stroke-width="1.1875" x1="-1" x2="2138" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="2120" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong><code>tests/test_adaptive_instructions.py</code>:</strong> Contains unit tests for the <code>AdaptiveInstructionManager</code> class, likely focusing on the <code>_select_template</code> and <code>_customize_template</code> logic. This file demonstrates how different inputs (history, mode, role, domain, context vector) should result in specific final instruction strings.</div></div></foreignObject></g><g data-depth="4" data-path="1.186.191.194" class="markmap-node" transform="translate(736, 2946.12109375)"><line stroke="#d62728" stroke-width="1.1875" x1="-1" x2="828" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="810" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong><code>tests/test_adaptive_simple.py</code>:</strong> May contain simpler or more focused tests for the adaptive instruction components.</div></div></foreignObject></g><g data-depth="3" data-path="1.186.191" class="markmap-node" transform="translate(544, 2918.93359375)"><line stroke="#1f77b4" stroke-width="1.375" x1="-1" x2="114" y1="20.6875" y2="20.6875"/><circle stroke-width="1.5" r="6" stroke="#1f77b4" fill="var(--markmap-circle-open-bg)" cx="112" cy="20.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="96" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Existing Tests</div></div></foreignObject></g><g data-depth="4" data-path="1.186.195.196" class="markmap-node" transform="translate(740, 2979.30859375)"><line stroke="#8c564b" stroke-width="1.1875" x1="-1" x2="546" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="528" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">1. Ensure you have <code>pytest</code> installed (<code>pip install pytest</code> or <code>uv pip install pytest</code>).</div></div></foreignObject></g><g data-depth="4" data-path="1.186.195.197" class="markmap-node" transform="translate(740, 3007.49609375)"><line stroke="#e377c2" stroke-width="1.1875" x1="-1" x2="426" y1="20.59375" y2="20.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="408" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">2. Navigate to the project's root directory in your terminal.</div></div></foreignObject></g><g data-depth="4" data-path="1.186.195.198" class="markmap-node" transform="translate(740, 3033.68359375)"><line stroke="#7f7f7f" stroke-width="1.1875" x1="-1" x2="893" y1="94.59375" y2="94.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="875" height="94"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">3. Run the specific test files:<pre data-lines="522,525"><code class="language-bash">pytest tests/test_context_analysis.py tests/test_adaptive_instructions.py tests/test_adaptive_simple.py
</code></pre>
Or run all tests in the directory:<pre data-lines="526,529"><code class="language-bash">pytest tests/
</code></pre></div></div></foreignObject></g><g data-depth="3" data-path="1.186.195" class="markmap-node" transform="translate(544, 3043.49609375)"><line stroke="#9467bd" stroke-width="1.375" x1="-1" x2="118" y1="20.6875" y2="20.6875"/><circle stroke-width="1.5" r="6" stroke="#9467bd" fill="var(--markmap-circle-open-bg)" cx="116" cy="20.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="100" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Running Tests</div></div></foreignObject></g><g data-depth="3" data-path="1.186.199" class="markmap-node" transform="translate(544, 3069.87109375)"><line stroke="#bcbd22" stroke-width="1.375" x1="-1" x2="88" y1="20.6875" y2="20.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="70" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Coverage</div></div></foreignObject></g><g data-depth="2" data-path="1.186" class="markmap-node" transform="translate(380, 2949.62109375)"><line stroke="#8c564b" stroke-width="1.75" x1="-1" x2="86" y1="20.875" y2="20.875"/><circle stroke-width="1.5" r="6" stroke="#8c564b" fill="var(--markmap-circle-open-bg)" cx="84" cy="20.875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="68" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">9. Testing</div></div></foreignObject></g><g data-depth="3" data-path="1.200.201" class="markmap-node" transform="translate(723, 3178.96484375)"><line stroke="#1f77b4" stroke-width="1.375" x1="-1" x2="86" y1="20.6875" y2="20.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="68" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Summary</div></div></foreignObject></g><g data-depth="4" data-path="1.200.202.203" class="markmap-node" transform="translate(940, 3138.87109375)"><line stroke="#2ca02c" stroke-width="1.1875" x1="-1" x2="1152" y1="22.59375" y2="22.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1134" height="22"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>More Sophisticated Context Metrics:</strong> Incorporating sentiment analysis, finer-grained emotion detection, or tracking logical fallacies within the <code>ContextAnalyzer</code>.</div></div></foreignObject></g><g data-depth="4" data-path="1.200.202.204" class="markmap-node" transform="translate(940, 3167.05859375)"><line stroke="#d62728" stroke-width="1.1875" x1="-1" x2="1170" y1="20.59375" y2="20.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1152" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Advanced Strategy Selection:</strong> Moving beyond rule-based selection to potentially use machine learning models to predict the optimal strategy based on context.</div></div></foreignObject></g><g data-depth="4" data-path="1.200.202.205" class="markmap-node" transform="translate(940, 3193.24609375)"><line stroke="#9467bd" stroke-width="1.1875" x1="-1" x2="1639" y1="20.59375" y2="20.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1621" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Feedback Loop Integration:</strong> Explicitly incorporating feedback on the <em>quality</em> of the LLM's previous response (perhaps from an arbiter model or user feedback) into the context analysis and instruction generation for the <em>next</em> turn.</div></div></foreignObject></g><g data-depth="4" data-path="1.200.202.206" class="markmap-node" transform="translate(940, 3219.43359375)"><line stroke="#8c564b" stroke-width="1.1875" x1="-1" x2="1209" y1="20.59375" y2="20.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1191" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>User-Defined Strategies:</strong> Creating an easier interface or configuration method for users to define entirely new adaptive strategies without modifying core Python code.</div></div></foreignObject></g><g data-depth="4" data-path="1.200.202.207" class="markmap-node" transform="translate(940, 3245.62109375)"><line stroke="#e377c2" stroke-width="1.1875" x1="-1" x2="1093" y1="20.59375" y2="20.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1075" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Enhanced Model-Specific Tuning:</strong> Developing more automated ways to tune instruction details based on the known characteristics of the target LLM.</div></div></foreignObject></g><g data-depth="4" data-path="1.200.202.208" class="markmap-node" transform="translate(940, 3271.80859375)"><line stroke="#7f7f7f" stroke-width="1.1875" x1="-1" x2="1473" y1="20.59375" y2="20.59375"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="1455" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><strong>Improved Testing &amp; Evaluation:</strong> Expanding unit tests and developing robust evaluation methodologies to quantitatively measure the impact of different adaptive strategies on conversation quality metrics.</div></div></foreignObject></g><g data-depth="3" data-path="1.200.202" class="markmap-node" transform="translate(723, 3205.33984375)"><line stroke="#ff7f0e" stroke-width="1.375" x1="-1" x2="139" y1="20.6875" y2="20.6875"/><circle stroke-width="1.5" r="6" stroke="#ff7f0e" fill="var(--markmap-circle-open-bg)" cx="137" cy="20.6875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="121" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Future Directions</div></div></foreignObject></g><g data-depth="2" data-path="1.200" class="markmap-node" transform="translate(380, 3192.15234375)"><line stroke="#17becf" stroke-width="1.75" x1="-1" x2="265" y1="20.875" y2="20.875"/><circle stroke-width="1.5" r="6" stroke="#17becf" fill="var(--markmap-circle-open-bg)" cx="263" cy="20.875"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="247" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">10. Conclusion &amp; Future Directions</div></div></foreignObject></g><g data-depth="1" data-path="1" class="markmap-node" transform="translate(0, -10)"><line stroke="#1f77b4" stroke-width="2.5" x1="-1" x2="302" y1="21.25" y2="21.25"/><circle stroke-width="1.5" r="6" stroke="#1f77b4" fill="var(--markmap-circle-open-bg)" cx="300" cy="21.25"/><foreignObject class="markmap-foreign" x="8" y="0" style="opacity: 1;" width="284" height="20"><div xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml">Adaptive Instruction System: Deep Dive</div></div></foreignObject></g></g></svg>